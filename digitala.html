<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tala Chibli | Digitala</title>
    <meta name="description"
        content="Tala Chibli - Digital Creator, Social Media Manager, Designer. Elevate your brand with creative strategy, design, and web development." />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Montserrat:wght@700&display=swap"
        rel="stylesheet" />
    <link rel="icon" type="image/png+xml" href="https://imgur.com/KseW3Eo.png" />
    <style>
        :root {
            /* Vibrant colorful theme */
            --white: #ffffff;
            --black: #111111;
            --muted: #555555;
            --accent: #6b21a8;
            /* purple */
            --accent-2: #ff5a5f;
            /* coral */
            --accent-3: #00b4d8;
            /* cyan */
            --accent-4: #ffd166;
            /* warm yellow */
            --glass-1: rgba(255, 255, 255, 0.6);
            --glass-2: rgba(17, 17, 17, 0.06);
            --card-border: rgba(255, 255, 255, 0.25);
            --glass-blur: 14px;
            --radius: 18px;
            --shadow-1: 0 14px 40px rgba(17, 17, 17, 0.08);
            --transition: 320ms cubic-bezier(.22, .9, .32, 1);
            --accent-soft: rgba(107, 33, 168, 0.18);
            --glass-border-strong: rgba(0, 0, 0, 0.06);
            --glass-highlight: rgba(255, 255, 255, 0.18);
            --glow: 0 10px 40px rgba(107, 33, 168, 0.08);
            --card-min-width: 260px;

            --mobile-photo-size: 88px;
            --mobile-photo-top: 72px;
            --header-height: 72px;
        }

        * {
            box-sizing: border-box;
        }

        html,
        body {
            height: 100%;
            margin: 0;
            font-family: 'Inter', 'Montserrat', Arial, sans-serif;
            /* colorful soft gradient canvas */
            background: radial-gradient(1200px 600px at 10% 10%, rgba(255, 196, 196, 0.08), transparent 8%),
                radial-gradient(900px 500px at 95% 20%, rgba(200, 240, 255, 0.06), transparent 8%),
                linear-gradient(180deg, #fffdf7 0%, #f7fbff 50%, #ffffff 100%);
            color: var(--black);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            scroll-behavior: smooth;
        }

        .bg-canvas {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 0;
            overflow: hidden;
        }

        .float-shape {
            position: absolute;
            opacity: 0.14;
            filter: blur(16px);
            transform: translate3d(0, 0, 0);
            animation: float 14s ease-in-out infinite;
            mix-blend-mode: screen;
        }

        .float-shape.s1 {
            width: 480px;
            height: 480px;
            left: -10%;
            top: -6%;
            background: radial-gradient(circle at 20% 25%, #ffd6e0 0%, #ff9fc3 30%, transparent 45%),
                linear-gradient(135deg, rgba(255, 147, 197, 0.95), rgba(178, 47, 136, 0.8));
            animation-duration: 20s;
            transform-origin: center;
        }

        .float-shape.s2 {
            width: 420px;
            height: 420px;
            right: -12%;
            top: 8%;
            background: radial-gradient(circle at 80% 20%, #d9faff 0%, #a7e5ff 30%, transparent 45%),
                linear-gradient(45deg, rgba(0, 180, 216, 0.9), rgba(0, 130, 204, 0.75));
            animation-duration: 16s;
        }

        .float-shape.s3 {
            width: 300px;
            height: 300px;
            left: 6%;
            bottom: -8%;
            background: radial-gradient(circle at 50% 50%, #fff7d6 0%, #ffd66b 30%, transparent 45%),
                linear-gradient(135deg, rgba(255, 209, 102, 0.95), rgba(255, 160, 30, 0.7));
            animation-duration: 22s;
        }

        @keyframes float {
            0% {
                transform: translateY(0) rotate(0deg) scale(1);
                opacity: 0.14;
            }

            50% {
                transform: translateY(-24px) rotate(6deg) scale(1.02);
                opacity: 0.18;
            }

            100% {
                transform: translateY(0) rotate(0deg) scale(1);
                opacity: 0.14;
            }
        }

        header {
            position: sticky;
            top: 0;
            z-index: 999;
            backdrop-filter: blur(8px) saturate(120%);
            background: linear-gradient(90deg, rgba(255, 255, 255, 0.85), rgba(250, 250, 255, 0.65));
            border-bottom: 1px solid rgba(107, 33, 168, 0.06);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 1.6rem;
            height: 84px;
            box-shadow: 0 6px 30px rgba(107, 33, 168, 0.06);
            transition: background var(--transition), box-shadow var(--transition);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: .8rem;
            font-family: 'Montserrat', 'Inter', Arial, sans-serif;
            font-size: 1.45rem;
            font-weight: 800;
            letter-spacing: .06em;
            color: var(--accent);
            text-decoration: none;
            z-index: 20;
        }

        .logo img {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            background: linear-gradient(135deg, #fff, #f9f6ff);
            box-shadow: 0 8px 30px rgba(107, 33, 168, 0.12);
            border: 2px solid rgba(255, 255, 255, 0.6);
            display: block;
            transform: rotate(-4deg);
        }

        .translate-switch {
            appearance: none;
            -webkit-appearance: none;
            border: none;
            padding: 8px 14px;
            border-radius: 999px;
            display: inline-flex;
            align-items: center;
            gap: .6rem;
            font-weight: 800;
            color: #ffffff;
            cursor: pointer;
            background: linear-gradient(90deg, var(--accent-2), var(--accent));
            box-shadow: 0 10px 34px rgba(255, 90, 95, 0.12), 0 6px 18px rgba(107, 33, 168, 0.06);
            border: 1px solid rgba(255, 255, 255, 0.08);
            transition: transform var(--transition), box-shadow var(--transition), filter var(--transition);
            z-index: 30;
        }

        .translate-switch:hover {
            transform: translateY(-3px) scale(1.02);
            filter: brightness(1.03);
        }

        .translate-switch[aria-pressed="true"] {
            background: linear-gradient(90deg, var(--accent-3), var(--accent-4));
            color: #0b2945;
            border-color: rgba(0, 0, 0, 0.06);
        }

        .translate-switch .icon {
            display: inline-block;
            width: 18px;
            height: 18px;
            line-height: 18px;
            text-align: center;
            font-size: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.14);
            color: #fff;
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.06);
        }

        nav.menu {
            display: flex;
            gap: 1.4rem;
            align-items: center;
            z-index: 20;
        }

        nav.menu a {
            font-weight: 700;
            color: var(--accent);
            text-decoration: none;
            padding: .6rem .6rem;
            border-radius: 12px;
            transition: color var(--transition), transform var(--transition), background var(--transition);
            position: relative;
            background: linear-gradient(90deg, rgba(255, 255, 255, 0.6), transparent);
            box-shadow: 0 6px 22px rgba(11, 41, 69, 0.02);
        }

        nav.menu a::after {
            content: "";
            position: absolute;
            left: 12%;
            right: 12%;
            bottom: -8px;
            height: 4px;
            background: linear-gradient(90deg, var(--accent-3), var(--accent-2));
            opacity: 0;
            transition: all var(--transition);
            border-radius: 8px;
        }

        nav.menu a.active,
        nav.menu a:hover {
            color: #0b2741;
            transform: translateY(-3px);
            background: linear-gradient(90deg, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.6));
        }

        nav.menu a.active::after,
        nav.menu a:hover::after {
            opacity: 1;
        }

        .menu-toggle {
            display: none;
            background: none;
            border: none;
            font-size: 2.2rem;
            color: var(--accent);
            cursor: pointer;
            margin-left: 1rem;
        }

        nav.menu.show {
            display: flex !important;
        }

        .hero {
            position: relative;
            max-width: 1140px;
            margin: 1.6rem auto 0;
            z-index: 10;
            padding: 2.6rem;
            border-radius: calc(var(--radius) + 6px);
            backdrop-filter: blur(var(--glass-blur)) saturate(140%);
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.82), rgba(250, 249, 255, 0.7));
            border: 1px solid rgba(255, 255, 255, 0.55);
            box-shadow: 0 24px 60px rgba(107, 33, 168, 0.06);
            overflow: visible;
            transition: padding-top .28s ease, transform var(--transition);
        }

        .hero-grid {
            display: grid;
            grid-template-columns: 240px 1fr;
            gap: 1.8rem;
            align-items: center;
        }

        .hero-photo {
            width: 220px;
            height: 220px;
            border-radius: 20px;
            overflow: hidden;
            border: 4px solid rgba(255, 255, 255, 0.75);
            box-shadow: 0 18px 50px rgba(11, 41, 69, 0.12), 0 8px 20px rgba(255, 209, 102, 0.06);
            transform: translateZ(0);
            background: linear-gradient(135deg, #fff, #fef6ff);
            transition: transform var(--transition), box-shadow var(--transition), width .18s ease, height .18s ease, top .18s ease, left .18s ease;
            position: relative;
            overflow: hidden;
        }

        .hero-photo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
            transform: scale(1.02);
            transition: transform .8s cubic-bezier(.22, .9, .32, 1);
            mix-blend-mode: normal;
        }

        .hero-photo::after {
            content: "";
            position: absolute;
            inset: 0;
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.06), rgba(255, 255, 255, 0.02));
            pointer-events: none;
        }

        .hero-photo:hover {
            transform: rotate(-6deg) scale(1.04);
            box-shadow: 0 30px 80px rgba(11, 41, 69, 0.14), 0 12px 40px rgba(255, 209, 102, 0.06);
        }

        .mobile-photo-top .hero-photo {
            position: fixed;
            left: 50%;
            transform: translateX(-50%);
            width: var(--mobile-photo-size);
            height: var(--mobile-photo-size);
            border-radius: 14px;
            z-index: 1200;
            box-shadow: 0 12px 44px rgba(11, 41, 69, 0.16);
            top: calc(var(--header-height) + 8px);
        }

        .mobile-photo-top #about {
            padding-top: calc(var(--header-height) + var(--mobile-photo-size) + 22px);
        }

        .mobile-photo-top .hero-photo:hover {
            transform: translateX(-50%) rotate(-3deg);
            box-shadow: 0 14px 48px rgba(11, 41, 69, 0.16);
        }

        .hero.photo-above {
            padding-top: 1rem;
        }

        .hero.photo-above .hero-grid {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .hero.photo-above .hero-photo {
            order: -1;
            width: 140px;
            height: 140px;
            border-radius: 14px;
            transform: none;
            margin: 0;
        }

        .hero.photo-above .about-heading,
        .hero.photo-above .about-paragraph {
            text-align: center;
        }

        .about-heading {
            margin: 0;
            font-family: 'Montserrat', 'Inter', Arial, sans-serif;
            font-size: 2.2rem;
            color: var(--accent);
            letter-spacing: .02em;
            font-weight: 800;
            line-height: 1.05;
            /* colorful gradient text */
            background: linear-gradient(90deg, var(--accent), var(--accent-2), var(--accent-3));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            filter: saturate(1.05);
        }

        .about-paragraph {
            margin-top: .9rem;
            font-size: 1.03rem;
            color: var(--muted);
            font-weight: 500;
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.0), rgba(255, 255, 255, 0.0));
            padding: 0.4rem 0;
        }

        .section {
            max-width: 1140px;
            margin: 2.4rem auto;
            padding: 1.2rem;
            z-index: 10;
        }

        h2.section-title {
            font-family: 'Montserrat', Arial, sans-serif;
            font-size: 1.45rem;
            color: var(--accent);
            margin: 0 0 1rem 0;
            letter-spacing: .03em;
            border-left: 6px solid transparent;
            padding-left: 14px;
            display: inline-block;
            position: relative;
            background: linear-gradient(90deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0));
            border-radius: 10px;
        }

        h2.section-title::before {
            content: "";
            position: absolute;
            left: -22px;
            top: 8px;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: linear-gradient(90deg, var(--accent-3), var(--accent-2));
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.06);
        }

        .carousel {
            display: flex;
            gap: 1.1rem;
            overflow-x: auto;
            scroll-snap-type: x mandatory;
            -webkit-overflow-scrolling: touch;
            scroll-behavior: smooth;
            padding-bottom: 8px;
            align-items: stretch;
        }

        .carousel::-webkit-scrollbar {
            height: 8px;
        }

        .carousel::-webkit-scrollbar-thumb {
            background: linear-gradient(90deg, rgba(107, 33, 168, 0.6), rgba(255, 90, 95, 0.6));
            border-radius: 999px;
        }

        .service-tile,
        .file-card,
        .feedback-card {
            flex: 0 0 var(--card-min-width);
            scroll-snap-align: start;
            min-width: var(--card-min-width);
        }

        .services-wrap {
            align-items: stretch;
        }

        .service-tile {
            position: relative;
            height: 170px;
            border-radius: 16px;
            overflow: hidden;
            cursor: pointer;
            display: flex;
            align-items: flex-end;
            padding: 16px;
            transition: transform var(--transition), box-shadow var(--transition), filter var(--transition);
            box-shadow: 0 12px 40px rgba(11, 41, 69, 0.08);
            background-size: cover;
            background-position: center;
            color: #fff;
            z-index: 10;
            border: 1px solid rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(4px);
            /* colorful overlay gradient */
            background-blend-mode: overlay;
        }

        .service-tile::before {
            content: "";
            position: absolute;
            inset: 0;
            background: linear-gradient(180deg, rgba(10, 20, 40, 0.16), rgba(10, 20, 40, 0.28));
            transition: opacity var(--transition), transform var(--transition);
            pointer-events: none;
            mix-blend-mode: multiply;
        }

        .service-symbol {
            position: absolute;
            right: -14%;
            top: -6%;
            font-size: 8.2rem;
            color: rgba(255, 255, 255, 0.06);
            transform: rotate(-12deg);
            pointer-events: none;
            transition: transform var(--transition);
        }

        .service-title-large {
            position: relative;
            font-weight: 800;
            font-size: 1.08rem;
            z-index: 5;
            text-shadow: 0 6px 20px rgba(11, 41, 69, 0.34);
            letter-spacing: .02em;
        }

        .service-sub {
            font-size: .92rem;
            opacity: .98;
            margin-top: 6px;
            color: rgba(255, 255, 255, 0.95);
            font-weight: 600;
            z-index: 5;
        }

        .service-tile:hover {
            transform: translateY(-10px) scale(1.03);
            box-shadow: 0 28px 80px rgba(11, 41, 69, 0.16);
            filter: saturate(1.08);
        }

        /* colorful variants for the tiles using data-service attribute backgrounds */
        .service-tile[data-service="visual-identity"] {
            background-image: linear-gradient(120deg, rgba(255, 90, 95, 0.16), rgba(107, 33, 168, 0.12)), url('https://imgur.com/Gcpk5j1.png');
        }

        .service-tile[data-service="frontend-websites"] {
            background-image: linear-gradient(120deg, rgba(0, 180, 216, 0.12), rgba(34, 197, 94, 0.12)), url('https://imgur.com/LBsXXmI.png');
        }

        .service-tile[data-service="extra-services"] {
            background-image: linear-gradient(120deg, rgba(255, 209, 102, 0.14), rgba(255, 140, 0, 0.08)), url('https://imgur.com/7Zel25b.png');
        }

        /* UPDATED: make overlay scrollable and keep header (close button) visible on small screens */
        .service-details {
            position: fixed;
            inset: 8% 10%;
            max-width: 920px;
            margin: 0 auto;
            border-radius: 14px;
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.96), rgba(250, 249, 255, 0.94));
            box-shadow: 0 36px 120px rgba(11, 41, 69, 0.18);
            padding: 1.2rem 1.4rem;
            z-index: 1200;
            backdrop-filter: blur(12px);
            border: 1px solid rgba(107, 33, 168, 0.06);
            animation: popIn .22s ease-out;
            max-height: calc(100vh - 64px);
            overflow-y: auto;
        }

        @keyframes popIn {
            from {
                transform: translateY(18px) scale(0.98);
                opacity: 0;
            }

            to {
                transform: translateY(0) scale(1);
                opacity: 1;
            }
        }

        /* make the header inside the overlay stick to the top so close button is always visible */
        .details-head {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
            position: sticky;
            top: 0;
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.98), rgba(255, 255, 255, 0.98));
            padding-top: 8px;
            padding-bottom: 8px;
            z-index: 5;
            border-bottom: 1px dashed rgba(107, 33, 168, 0.03);
        }

        .details-head h3 {
            margin: 0;
            font-size: 1.2rem;
            color: var(--accent);
            font-weight: 900;
            background: linear-gradient(90deg, var(--accent-3), var(--accent-2));
            -webkit-background-clip: text;
            color: transparent;
        }

        .details-list {
            margin-top: 10px;
            display: grid;
            gap: 10px;
        }

        .details-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: linear-gradient(90deg, rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0.6));
            border-radius: 12px;
            padding: 12px;
            border: 1px solid rgba(107, 33, 168, 0.04);
            font-weight: 700;
            color: var(--accent);
            box-shadow: 0 8px 30px rgba(11, 41, 69, 0.04);
        }

        .price {
            font-weight: 900;
            color: #092033;
            background: linear-gradient(90deg, rgba(0, 180, 216, 0.06), rgba(255, 209, 102, 0.04));
            padding: 8px 12px;
            border-radius: 10px;
            font-size: .98rem;
        }

        .close-details {
            border: none;
            background: rgba(107, 33, 168, 0.12);
            color: var(--accent);
            padding: 8px 12px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 800;
        }

        .graphics-file-grid {
            align-items: stretch;
        }

        .file-card {
            position: relative;
            border-radius: 14px;
            overflow: hidden;
            height: 190px;
            display: flex;
            align-items: end;
            padding: 16px;
            color: #fff;
            cursor: pointer;
            background-size: cover;
            background-position: center;
            box-shadow: 0 18px 54px rgba(11, 41, 69, 0.08);
            transition: transform var(--transition), filter var(--transition);
            border: 1px solid rgba(255, 255, 255, 0.06);
        }

        .file-card .file-content {
            z-index: 5;
            transform: translateY(0);
        }

        .file-card::after {
            content: "";
            position: absolute;
            inset: 0;
            background: linear-gradient(180deg, rgba(10, 20, 40, 0.14), rgba(10, 20, 40, 0.36));
            transition: opacity var(--transition);
        }

        .file-title {
            font-weight: 900;
            font-size: 1.06rem;
            margin-bottom: 6px;
            text-shadow: 0 6px 20px rgba(11, 41, 69, 0.32);
        }

        .file-desc {
            font-size: .95rem;
            color: rgba(255, 255, 255, 0.95);
        }

        .file-card:hover {
            transform: translateY(-8px);
            filter: saturate(1.06) brightness(1.02);
        }

        .modal-overlay {
            position: fixed;
            inset: 0;
            display: none;
            align-items: center;
            justify-content: center;
            background: linear-gradient(180deg, rgba(10, 12, 20, 0.56), rgba(10, 12, 20, 0.6));
            z-index: 2000;
        }

        .modal-content {
            width: min(980px, 96%);
            max-height: 92vh;
            overflow-y: auto;
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.98), rgba(250, 249, 255, 0.96));
            border-radius: 12px;
            padding: 1.2rem;
            box-shadow: 0 24px 120px rgba(0, 0, 0, 0.35);
            border: 1px solid rgba(107, 33, 168, 0.06);
            position: relative;
        }

        .close-modal {
            position: absolute;
            top: 12px;
            right: 12px;
            font-size: 1.8rem;
            background: linear-gradient(90deg, var(--accent-2), var(--accent-3));
            border: none;
            color: #fff;
            padding: 6px 10px;
            border-radius: 10px;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(11, 41, 69, 0.12);
        }

        .project-photo-block img {
            width: 100%;
            border-radius: 10px;
            display: block;
            box-shadow: 0 12px 40px rgba(11, 41, 69, 0.08);
        }

        .project-desc {
            color: var(--muted);
            margin-top: .6rem;
            line-height: 1.55;
        }

        .feedbacks-grid {
            align-items: stretch;
        }

        .feedback-card {
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.82), rgba(255, 255, 255, 0.72));
            border-radius: 14px;
            padding: 14px;
            border: 1px solid rgba(107, 33, 168, 0.04);
            box-shadow: 0 12px 40px rgba(11, 41, 69, 0.06);
            display: flex;
            flex-direction: column;
            gap: .6rem;
        }

        .feedback-photo {
            width: 64px;
            height: 64px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid rgba(255, 255, 255, 0.7);
        }

        .feedback-header {
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .feedback-name {
            font-weight: 800;
            color: var(--accent);
        }

        .feedback-role {
            font-size: .95rem;
            color: #666;
            font-weight: 600;
        }

        .feedback-content blockquote {
            margin: 0;
            background: rgba(255, 255, 255, 0.92);
            padding: 12px;
            border-left: 6px solid linear-gradient(90deg, var(--accent-3), var(--accent-2));
            border-radius: 10px;
            color: var(--accent);
            font-weight: 600;
        }

        .contacts-wrapper {
            display: grid;
            grid-template-columns: 1fr 360px;
            gap: 1rem;
            align-items: start;
        }

        .contact-form {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.9), rgba(250, 249, 255, 0.88));
            padding: 1rem;
            border-radius: 12px;
            border: 1px solid rgba(107, 33, 168, 0.04);
            box-shadow: 0 12px 40px rgba(11, 41, 69, 0.04);
        }

        .contact-form input,
        .contact-form textarea {
            padding: .95rem;
            border: 1px solid rgba(11, 41, 69, 0.06);
            border-radius: 12px;
            font-size: .98rem;
            background: rgba(255, 255, 255, 0.98);
            color: var(--accent);
            font-family: inherit;
            transition: box-shadow var(--transition), transform var(--transition);
        }

        .contact-form input:focus,
        .contact-form textarea:focus {
            outline: none;
            border-color: rgba(0, 180, 216, 0.25);
            box-shadow: 0 14px 40px rgba(0, 180, 216, 0.06);
            transform: translateY(-1px);
        }

        .contact-form button {
            padding: .95rem;
            background: linear-gradient(90deg, var(--accent-3), var(--accent-2));
            color: var(--white);
            border: none;
            border-radius: 12px;
            font-size: 1.02rem;
            font-weight: 800;
            cursor: pointer;
            box-shadow: 0 14px 50px rgba(0, 180, 216, 0.08);
            transition: transform var(--transition), box-shadow var(--transition);
        }

        .contact-form button:hover {
            transform: translateY(-3px);
            box-shadow: 0 18px 60px rgba(0, 180, 216, 0.12);
        }

        .contacts-social {
            display: flex;
            flex-direction: column;
            gap: .8rem;
            align-items: stretch;
            margin-top: 0.5rem;
        }

        .contacts-social a {
            display: flex;
            align-items: center;
            gap: .8rem;
            background: linear-gradient(120deg, rgba(255, 255, 255, 0.92), rgba(255, 255, 255, 0.88));
            color: var(--accent);
            padding: .8rem 1rem;
            font-size: 1rem;
            font-weight: 800;
            border-radius: 12px;
            text-decoration: none;
            border: 1px solid rgba(107, 33, 168, 0.04);
            justify-content: center;
            box-shadow: 0 12px 40px rgba(11, 41, 69, 0.04);
            transition: transform var(--transition), box-shadow var(--transition);
        }

        .contacts-social a:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 60px rgba(11, 41, 69, 0.06);
        }

        .carousel-wrap {
            position: relative;
        }

        .carousel-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: linear-gradient(90deg, rgba(255, 255, 255, 0.95), rgba(250, 249, 255, 0.92));
            border: 1px solid rgba(107, 33, 168, 0.06);
            width: 44px;
            height: 44px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 12px 40px rgba(11, 41, 69, 0.08);
            cursor: pointer;
            z-index: 60;
            transition: transform .18s ease, background var(--transition);
            font-weight: 900;
            color: var(--accent);
        }

        .carousel-nav:hover {
            transform: translateY(-50%) scale(1.06);
            background: linear-gradient(90deg, #fff, rgba(255, 255, 255, 0.98));
        }

        .carousel-nav.left {
            left: -18px;
        }

        .carousel-nav.right {
            right: -18px;
        }

        #scrollTopBtn {
            display: none;
            position: fixed;
            bottom: 28px;
            right: 28px;
            z-index: 9999;
            background: linear-gradient(90deg, var(--accent-3), var(--accent-2));
            color: var(--white);
            border: none;
            border-radius: 50%;
            width: 52px;
            height: 52px;
            font-size: 1.4rem;
            box-shadow: 0 12px 40px rgba(11, 41, 69, 0.12);
            cursor: pointer;
        }

        footer {
            text-align: center;
            padding: 1.2rem 0 .9rem 0;
            font-size: 1.02rem;
            background: transparent;
            color: var(--accent);
            border-top: 1px solid rgba(107, 33, 168, 0.04);
            margin-top: 2rem;
            letter-spacing: 1px;
        }

        /* responsive tweaks */
        @media (max-width: 1000px) {
            .hero-grid {
                grid-template-columns: 170px 1fr;
            }

            .hero-photo {
                width: 170px;
                height: 170px;
                border-radius: 14px;
            }

            .contacts-wrapper {
                grid-template-columns: 1fr;
            }

            :root {
                --card-min-width: 220px;
            }
        }

        @media (max-width: 768px) {
            header {
                padding: 0 .8rem;
                height: 64px;
            }

            .menu-toggle {
                display: block;
            }

            nav.menu {
                display: none;
                position: absolute;
                right: 12px;
                top: 64px;
                background: linear-gradient(180deg, rgba(255, 255, 255, 0.96), rgba(255, 255, 255, 0.95));
                padding: 10px;
                border-radius: 12px;
                box-shadow: 0 20px 60px rgba(11, 41, 69, 0.08);
                flex-direction: column;
            }

            nav.menu.show {
                display: flex;
            }

            .hero {
                margin: 0.9rem .6rem;
                padding: 1rem;
            }

            .hero-grid {
                grid-template-columns: 120px 1fr;
                gap: 1rem;
            }

            .hero-photo {
                width: 120px;
                height: 120px;
            }

            .translate-switch {
                padding: 6px 10px;
                font-size: .92rem;
            }

            .service-tile {
                height: 150px;
            }

            .services-wrap {
                grid-template-columns: none;
            }

            .services-wrap,
            .graphics-file-grid,
            .feedbacks-grid {
                padding: 6px 2px;
            }

            .service-details {
                left: 6%;
                right: 6%;
                bottom: 6%;
                top: auto;
                inset: 6% 6%;
                max-height: calc(100vh - 48px);
            }

            :root {
                --card-min-width: 240px;
            }

            .carousel-nav {
                display: none;
            }
        }

        .fade-in-up {
            opacity: 0;
            transform: translateY(16px);
            animation: fadeUp 0.6s forwards;
        }

        .fade-in-up.delay-1 {
            animation-delay: 0.08s;
        }

        .fade-in-up.delay-2 {
            animation-delay: 0.16s;
        }

        .fade-in-up.delay-3 {
            animation-delay: 0.24s;
        }

        @keyframes fadeUp {
            to {
                opacity: 1;
                transform: none;
            }
        }
    </style>
</head>

<body>
    <div class="bg-canvas" aria-hidden="true">
        <div class="float-shape s1"></div>
        <div class="float-shape s2"></div>
        <div class="float-shape s3"></div>
    </div>

    <header>
        <a href="#about" class="logo" aria-label="Digitala - Home">
            <img id="headerLogo" src="https://imgur.com/KseW3Eo.png" alt="Logo" />
            Digitala
        </a>

        <!-- Translation toggle (keeps original behavior) -->
        <button id="langToggle" class="translate-switch" aria-pressed="false">ترجمة</button>

        <button class="menu-toggle" aria-label="Open Menu" aria-expanded="false">&#9776;</button>

        <nav class="menu" aria-label="Main navigation">
            <a href="#about" class="active" data-tab="about">About</a>
            <a href="#services" data-tab="services">Services</a>
            <a href="#graphics" data-tab="graphics">Portfolio</a>
            <a href="#feedbacks" data-tab="feedbacks">Feedbacks</a>
            <a href="#contacts" data-tab="contacts">Contact</a>
        </nav>
    </header>

    <!-- HERO / ABOUT -->
    <main>
        <section id="about" class="hero fade-in-up delay-1" aria-labelledby="about-heading">
            <div class="hero-grid">
                <div class="hero-photo" aria-hidden="false">
                    <img src="https://imgur.com/KseW3Eo.png" alt="Digitala - Tala Chibli" />
                </div>
                <div>
                    <h1 id="about-heading" class="about-heading">Digitala | Designing and Developing Agency</h1>
                    <p class="about-paragraph">
                        Tala is a multi-passionate girl. She started designing by accident in 2017, and over the years
                        she explored more about graphic design, web development, business english ... Her major in IT
                        enhanced her confidence in
                        technology, entrepreneurship, and programming, as well as her understanding of customer needs,
                        which enabled her to launch her own agency <u>“DIGITALA”</u>.<br>
                        Digitala is a creative and professional agency that provides businesses and individuals with
                        a powerful digital presence. <br>
                        <b><i>Our mission is to transform ideas into impactful digital experiences, ensuring every brand
                                we
                                work with stands out with creativity, elegance, and professionalism.</i></b>
                    </p>
                </div>
            </div>
        </section>

        <!-- SERVICES SECTION -->
        <section id="services" class="section fade-in-up delay-2" aria-labelledby="services-title">
            <h2 id="services-title" class="section-title">Services</h2>

            <div class="carousel-wrap" style="margin-top:8px;">
                <div class="services-wrap carousel" id="servicesWrap" aria-hidden="false">
                    <div class="service-tile" data-service="visual-identity" role="button" tabindex="0"
                        style="background-image: linear-gradient(180deg, rgba(0,0,0,0.18), rgba(0,0,0,0.28)), url('https://imgur.com/Gcpk5j1.png');">
                        <div>
                            <div class="service-title-large">Visual Branding & Identity Design</div>
                            <div class="service-sub">Visual Identity · Social Media Branding Kit & more</div>
                        </div>
                    </div>

                    <div class="service-tile" data-service="frontend-websites" role="Button" tabindex="0"
                        style="background-image: linear-gradient(180deg, rgba(0,0,0,0.14), rgba(0,0,0,0.3)), url('https://imgur.com/LBsXXmI.png');">
                        <div>
                            <div class="service-title-large">Full Stack Web Development</div>
                            <div class="service-sub">Frontend Development · Backend Development</div>
                        </div>
                    </div>

                    <div class="service-tile" data-service="extra-services" role="button" tabindex="0"
                        style="background-image: linear-gradient(180deg, rgba(0,0,0,0.12), rgba(0,0,0,0.28)), url('https://imgur.com/7Zel25b.png');">
                        <div>
                            <div class="service-title-large">Career & Study Support</div>
                            <div class="service-sub">CV · Projects · Presentations · Assignments & more</div>
                        </div>
                    </div>
                </div>

                <button class="carousel-nav left" aria-label="Scroll left" data-target="#servicesWrap"
                    title="Scroll left">&larr;</button>
                <button class="carousel-nav right" aria-label="Scroll right" data-target="#servicesWrap"
                    title="Scroll right">&rarr;</button>
            </div>

            <div style="margin-top:1rem; text-align:center; font-size:.97rem; color:#555;">
                <span>Click any tile to chat on WhatsApp about that service!</span>
            </div>
        </section>

        <!-- PORTFOLIO -->
        <section id="graphics" class="section fade-in-up delay-3" aria-labelledby="portfolio-title">
            <h2 id="portfolio-title" class="section-title">My Work</h2>

            <div class="carousel-wrap" style="margin-top:8px;">
                <div class="graphics-file-grid carousel">
                    <div class="file-card" data-modal="project-modal-1"
                        style="background-image: linear-gradient(180deg, rgba(0,0,0,0.12), rgba(0,0,0,0.36)), url('https://imgur.com/sazMX5w.jpg');"
                        role="button" tabindex="0">
                        <div class="file-content">
                            <div class="file-title">Visual Identity Project</div>
                            <div class="file-desc">Lamsa Candles</div>
                        </div>
                    </div>

                    <div class="file-card" data-modal="project-modal-2"
                        style="background-image: linear-gradient(180deg, rgba(0,0,0,0.12), rgba(0,0,0,0.36)), url('https://imgur.com/QYBRaU8.jpg');"
                        role="button" tabindex="0">
                        <div class="file-content">
                            <div class="file-title">Menu Project</div>
                            <div class="file-desc">Bas Pasta Menu – Crepeno</div>
                        </div>
                    </div>

                    <div class="file-card" data-modal="project-modal-3"
                        style="background-image: linear-gradient(180deg, rgba(0,0,0,0.12), rgba(0,0,0,0.36)), url('https://imgur.com/0BO1tFS.jpg');"
                        role="button" tabindex="0">
                        <div class="file-content">
                            <div class="file-title">Product Photography & Digital Marketing Project</div>
                            <div class="file-desc">Khait w Hkaya – YALA Association</div>
                        </div>
                    </div>
                </div>

                <button class="carousel-nav left" aria-label="Scroll left" data-target=".graphics-file-grid"
                    title="Scroll left">&larr;</button>
                <button class="carousel-nav right" aria-label="Scroll right" data-target=".graphics-file-grid"
                    title="Scroll right">&rarr;</button>
            </div>
        </section>

        <!-- PROJECT MODALS (preserve the original textual content) -->
        <div id="project-modal-1" class="modal-overlay" aria-hidden="true">
            <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="proj1-title">
                <button class="close-modal" data-close="1" aria-label="Close">&times;</button>
                <div class="project-container">
                    <h3 id="proj1-title">Visual Identity Project</h3>
                    <div class="project-company">Lamsa Candles</div>
                    <div class="project-desc">
                        LAMSA Candles – Branding & Visual Identity
                        For this project, I designed a complete branding package for LAMSA Candles, a handcrafted candle
                        business
                        that focuses on elegance, warmth, and a touch of luxury.<br><br>
                        ✨ Logo Design: A soft, glowing aesthetic featuring a candle wrapped with a delicate pink bow,
                        framed
                        with
                        floral illustrations.<br><br>
                        ✨ Sticker Design: The logo was adapted into a sticker format for packaging.<br><br>
                        ✨ Instagram Highlights: A custom set of icon designs for Instagram story highlights.<br><br>
                        The overall branding emphasizes warmth, elegance, and personalization.
                    </div>
                    <div class="project-gallery" style="margin-top:12px;">
                        <div class="project-photo-block">
                            <img src="https://imgur.com/sazMX5w.jpg" alt="Lamsa's Visual Identity">
                            <div class="photo-caption">Lamsa's Visual Identity</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="project-modal-2" class="modal-overlay" aria-hidden="true">
            <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="proj2-title">
                <button class="close-modal" data-close="2" aria-label="Close">&times;</button>
                <div class="project-container">
                    <h3 id="proj2-title">Menu Project</h3>
                    <div class="project-company">Bas Pasta Menu – Crepeno</div>
                    <div class="project-desc">
                        I designed a full marketing collateral and menu for Crepeno and Bas Pasta, a food brand based in
                        Tripoli.
                        The project included creating a modern and appetizing menu layout.<br><br>
                        The design combines Arabic and English text, uses strong yellow and black contrasts, and
                        integrates
                        food photography.<br><br>
                        The result: professional, customer-friendly menus and posters.
                    </div>
                    <div class="project-gallery" style="margin-top:12px;">
                        <div class="project-photo-block">
                            <img src="https://imgur.com/QYBRaU8.jpg" alt="Poster 1">
                            <div class="photo-caption">Poster 1</div>
                        </div>
                        <div class="project-photo-block" style="margin-top:12px;">
                            <img src="https://imgur.com/dzpdQEU.jpg" alt="Poster 2">
                            <div class="photo-caption">Poster 2</div>
                        </div>
                        <div class="project-photo-block" style="margin-top:12px;">
                            <img src="https://imgur.com/9uWScuA.jpg" alt="Menu">
                            <div class="photo-caption">Menu</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="project-modal-3" class="modal-overlay" aria-hidden="true">
            <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="proj3-title">
                <button class="close-modal" data-close="3" aria-label="Close">&times;</button>
                <div class="project-container">
                    <h3 id="proj3-title">Product Photography & Digital Marketing Project</h3>
                    <div class="project-company">Khait w Hkaya – YALA Association</div>
                    <div class="project-desc">
                        <br>Role: Product Photographer & Digital Marketer</br>
                        <br>Year: 2023</br>
                        <br>• Photographed handmade products (bags, wallets, keychains) highlighting the Palestinian
                        heritage
                        style.</br>
                        <br>• Conducted a professional photoshoot with multiple setups suitable for digital
                        display.</br>
                        <br>• Created visual content tailored for social media platforms.</br>
                        <br>• Marketed the products online, increasing reach and engagement with the target
                        audience.</br>

                        <br>Skills gained:</br>
                        <br>Photography · Visual Storytelling · Digital Marketing · Social Media Management</br>
                    </div>
                    <div class="project-gallery" style="margin-top:12px;">
                        <div class="project-photo-block">
                            <img src="https://imgur.com/0BO1tFS.jpg" alt="Khait w Hkaya Collection">
                            <div class="photo-caption">Khait w Hkaya Collection</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- FEEDBACKS -->
        <section id="feedbacks" class="section fade-in-up delay-3" aria-labelledby="feedbacks-title">
            <h2 id="feedbacks-title" class="section-title">Feedbacks</h2>

            <div class="carousel-wrap" style="margin-top:8px;">
                <div class="feedbacks-grid carousel">
                    <div class="feedback-card">
                        <div class="feedback-header">
                            <img src="https://imgur.com/XWagJpO.jpg" alt="Mahmoud Cherham" class="feedback-photo"
                                loading="lazy" />
                            <div>
                                <div class="feedback-name">Mahmoud Cherham</div>
                                <div class="feedback-role">Founder of Crepeno Restaurant</div>
                            </div>
                        </div>
                        <div class="feedback-content">
                            <blockquote>
                                “Honestly, the result were beyond our expectations. The outcome was amazing, and we
                                gained
                                more followers.
                                May God bless your work and make things easier for you, you are truly talented.”
                            </blockquote>
                        </div>
                    </div>

                    <div class="feedback-card">
                        <div class="feedback-header">
                            <img src="https://imgur.com/CbwDanL.jpg" alt="Jana Bakir" class="feedback-photo"
                                loading="lazy" />
                            <div>
                                <div class="feedback-name">Jana Bakir</div>
                                <div class="feedback-role">Business Management Student</div>
                            </div>
                        </div>
                        <div class="feedback-content">
                            <blockquote>
                                “Hey love, I genuinely want to thank you from the bottom of my heart for your work on my
                                CV
                                and cover
                                letter. I absolutely loved them. Everything was so well-organized, polished, and
                                delivered
                                right on time.
                                I even ended up getting an A in the course, so thank you so much.”
                            </blockquote>
                        </div>
                    </div>

                    <div class="feedback-card">
                        <div class="feedback-header">
                            <img src="https://imgur.com/CbwDanL.jpg" alt="Raghad Nasser" class="feedback-photo"
                                loading="lazy" />
                            <div>
                                <div class="feedback-name">Raghad Nasser</div>
                                <div class="feedback-role">Founder of Lamsa Candles Store</div>
                            </div>
                        </div>
                        <div class="feedback-content">
                            <blockquote>
                                “I am beyond impressed with your work! Your designs are truly exceptional and stand out
                                in
                                every way. The
                                creativity, attention to detail, and overall quality are unmatched. I absolutely loved
                                the
                                results and
                                couldn’t be happier with them”
                            </blockquote>
                        </div>
                    </div>
                </div>

                <button class="carousel-nav left" aria-label="Scroll left" data-target=".feedbacks-grid"
                    title="Scroll left">&larr;</button>
                <button class="carousel-nav right" aria-label="Scroll right" data-target=".feedbacks-grid"
                    title="Scroll right">&rarr;</button>
            </div>
        </section>

        <!-- CONTACT -->
        <section id="contacts" class="section fade-in-up delay-3" aria-labelledby="contacts-title">
            <h2 id="contacts-title" class="section-title">Contact</h2>
            <div class="contacts-wrapper">
                <form class="contact-form" action="https://formspree.io/f/mzzgwkvk" method="POST">
                    <input type="text" name="name" placeholder="Your Name" required />
                    <input type="email" name="email" placeholder="Your Email" required />
                    <textarea rows="4" name="message" placeholder="Your Message" required></textarea>
                    <button type="submit">Send Message</button>
                </form>

                <div>
                    <div class="contacts-social" aria-label="social links">
                        <a href="https://wa.me/447917789739" target="_blank" rel="noopener">
                            <img src="https://cdn.jsdelivr.net/npm/simple-icons@v10/icons/whatsapp.svg" alt="WhatsApp"
                                loading="lazy" style="width:20px;height:20px" />
                            WhatsApp
                        </a>
                        <a href="https://www.instagram.com/digitala_agency" target="_blank" rel="noopener">
                            <img src="https://cdn.jsdelivr.net/npm/simple-icons@v10/icons/instagram.svg" alt="Instagram"
                                loading="lazy" style="width:20px;height:20px" />
                            Instagram
                        </a>
                        <a href="https://www.linkedin.com/in/tala-chibli-89a8632ab" target="_blank" rel="noopener">
                            <img src="https://cdn.jsdelivr.net/npm/simple-icons@v10/icons/linkedin.svg" alt="LinkedIn"
                                loading="lazy" style="width:20px;height:20px" />
                            LinkedIn
                        </a>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <button id="scrollTopBtn" aria-label="Scroll to top">↑</button>

    <footer>
        &copy; 2025 Tala Chibli. All rights reserved.<br>
    </footer>

    <!-- Hidden Google translate (keeps original behavior) -->
    <div id="google_translate_element" style="display:none;"></div>
    <script type="text/javascript">
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({
                pageLanguage: 'en',
                includedLanguages: 'ar,en',
                autoDisplay: false
            }, 'google_translate_element');
        }
    </script>
    <script type="text/javascript"
        src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

    <script>

        const menuToggle = document.querySelector('.menu-toggle');
        const navMenu = document.querySelector('nav.menu');

        menuToggle.addEventListener('click', () => {
            const expanded = menuToggle.getAttribute('aria-expanded') === 'true';
            menuToggle.setAttribute('aria-expanded', String(!expanded));
            navMenu.classList.toggle('show');
        });

        const tabLinks = document.querySelectorAll('.menu a');
        tabLinks.forEach(link => {
            link.addEventListener('click', function (e) {

                e.preventDefault();

                tabLinks.forEach(l => l.classList.remove('active'));
                this.classList.add('active');
                const href = this.getAttribute('href');
                if (href && href.startsWith('#')) {
                    const el = document.querySelector(href);
                    if (el) {

                        if (window.innerWidth <= 768 && href === '#about') {

                            history.replaceState(null, '', '#about');
                            showPhotoTopOnMobile(() => {
                                setTimeout(() => el.scrollIntoView({ behavior: 'smooth', block: 'start' }), 90);
                            });
                        } else {

                            el.scrollIntoView({ behavior: 'smooth', block: 'start' });
                            history.replaceState(null, '', href);
                        }
                    }
                }
                if (window.innerWidth <= 768) {
                    navMenu.classList.remove('show');
                    menuToggle.setAttribute('aria-expanded', 'false');
                }
            });
        });

        const scrollBtn = document.getElementById('scrollTopBtn');
        window.addEventListener('scroll', () => {
            if (document.documentElement.scrollTop > 200) scrollBtn.style.display = 'block';
            else scrollBtn.style.display = 'none';
        });
        scrollBtn.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));

        function openWhatsApp(message) {
            const waMsg = encodeURIComponent(message);
            window.open("https://wa.me/447917789739?text=" + waMsg, "_blank");
        }

        const servicesData = {
            "visual-identity": {
                title: "Visual Branding & Identity Design",
                items: [
                    { name: "Logo Design", price: "From $40", description: "2-3 types delivery in multiple formats (PNG, PDF, SVG)." },
                    { name: "Full Brand Identity Design", price: "From $60", description: "Logo, Submark, Color Palette, Typography, Iconography, Patterns." },
                    { name: "Brand Guidelines", price: "From $30", description: "Logo usage guide - colors & typography rules - Do's and Don'ts - Spacing Example - Layout & Mockup Examples." },
                    { name: "Social Media Branding Kit", price: "From $40", description: "Profile Photo & Cover Banner - 3 Posts Templates - Highlights Icons (Optional)." },
                    { name: "Business & Stationary Design", price: "From $20", description: "Business Card - Letter Head - Envelope - Email Signature." },
                    { name: "Brand Collateral Design", price: "From $20", description: "Flayer - Poster - Brochure - Cataloge - Stickers - Packaging." },
                    { name: "Complete Visual Identity Package", price: "From $200", description: "Every thing your brand need, from concept to final files." }
                ]
            },
            "frontend-websites": {
                title: "Full Stack Web Development",
                items: [
                    { name: "Frontend Development", price: "From $150", description: "HTML, CSS, JavaScript development, Responsive & cross browser compatible, layout, animation, and interaction elements." },
                    { name: "Backend Development", price: "From $200", description: "Database setup & management, Server-side scripting & APIs, Security & authentication setup." },
                    { name: "Full Stack Development", price: "From $300", description: "Frontend Development, Backend & Database Integration, Deployment & Testing." }
                ]
            },
            "extra-services": {
                title: "Career & Study Support",
                items: [
                    { name: "CV / Resume Writing", price: "From $5" },
                    { name: "Forms & PDF Creation", price: "From $5" },
                    { name: "Presentations / Slides Design", price: "From $10" },
                    { name: "Projects & Assignments", price: "From $10" }

                ]
            }
        };

        function buildDetailsOverlay() {
            const overlay = document.createElement('div');
            overlay.className = 'service-details';
            overlay.setAttribute('role', 'dialog');
            overlay.setAttribute('aria-modal', 'true');
            overlay.tabIndex = -1; // ensure it can receive focus

            overlay.innerHTML = `
        <div class="details-head">
          <h3 id="details-title"></h3>
          <div>
            <button class="close-details" aria-label="Close details">Close</button>
          </div>
        </div>
        <div class="details-list" id="details-list"></div>
      `;
            document.body.appendChild(overlay);

            // close behavior
            const closeBtn = overlay.querySelector('.close-details');
            closeBtn.addEventListener('click', () => {
                overlay.remove();
            });

            // keep focus inside overlay (basic trap)
            overlay.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') overlay.remove();

                // basic tab trap
                if (e.key === 'Tab') {
                    const focusables = overlay.querySelectorAll('button, [href], input, textarea, select, [tabindex]:not([tabindex="-1"])');
                    if (!focusables.length) return;
                    const first = focusables[0];
                    const last = focusables[focusables.length - 1];
                    if (e.shiftKey && document.activeElement === first) {
                        e.preventDefault();
                        last.focus();
                    } else if (!e.shiftKey && document.activeElement === last) {
                        e.preventDefault();
                        first.focus();
                    }
                }
            });

            // focus overlay for keyboard scrolling and accessibility
            overlay.focus();

            return overlay;
        }

        document.querySelectorAll('.service-tile').forEach(tile => {
            tile.addEventListener('click', () => {
                const key = tile.getAttribute('data-service');
                const data = servicesData[key];
                if (!data) return;
                const overlay = buildDetailsOverlay();
                overlay.querySelector('#details-title').textContent = data.title;
                const listBlock = overlay.querySelector('#details-list');
                listBlock.innerHTML = '';

                // For each item show title, detailed line (description), price and a WhatsApp button
                data.items.forEach(it => {
                    const itemRow = document.createElement('div');
                    itemRow.className = 'details-item';
                    itemRow.style.display = 'flex';
                    itemRow.style.justifyContent = 'space-between';
                    itemRow.style.alignItems = 'center';
                    itemRow.style.gap = '12px';

                    const left = document.createElement('div');
                    left.style.flex = '1';
                    left.innerHTML = `<div style="font-weight:700; color:var(--accent);">${it.name}</div>
                                      <div style="font-weight:600; font-size:.92rem; color:var(--muted); margin-top:6px;">${it.description || ''}</div>`;

                    const right = document.createElement('div');
                    right.style.display = 'flex';
                    right.style.flexDirection = 'column';
                    right.style.alignItems = 'flex-end';
                    right.style.gap = '8px';

                    const price = document.createElement('div');
                    price.className = 'price';
                    price.textContent = it.price;

                    const waBtn = document.createElement('button');
                    waBtn.type = 'button';
                    waBtn.className = 'close-details';
                    waBtn.style.background = 'linear-gradient(90deg,#00a884,#128C7E)';
                    waBtn.style.color = '#fff';
                    waBtn.style.border = 'none';
                    waBtn.style.padding = '8px 12px';
                    waBtn.style.borderRadius = '8px';
                    waBtn.style.cursor = 'pointer';
                    waBtn.style.fontWeight = '700';
                    waBtn.textContent = 'Chat on WhatsApp';

                    waBtn.addEventListener('click', () => {
                        openWhatsApp(`I'm interested in "${it.name}" from "${data.title}". Can you tell me more?`);
                    });

                    right.appendChild(price);
                    right.appendChild(waBtn);

                    itemRow.appendChild(left);
                    itemRow.appendChild(right);

                    listBlock.appendChild(itemRow);
                });

                // accessibility: focus close button
                const firstClose = overlay.querySelector('.close-details');
                if (firstClose) firstClose.focus();
            });

            // keyboard support
            tile.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    tile.click();
                }
            });
        });

        // Portfolio modals
        document.querySelectorAll('.file-card').forEach(card => {
            card.addEventListener('click', () => {
                const id = card.getAttribute('data-modal');
                const modal = document.getElementById(id);
                if (modal) {
                    modal.style.display = 'flex';
                    modal.setAttribute('aria-hidden', 'false');
                }
            });
            card.addEventListener('keydown', e => {
                if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); card.click(); }
            });
        });

        document.querySelectorAll('.close-modal').forEach(btn => {
            btn.addEventListener('click', () => {
                const idx = btn.getAttribute('data-close');
                const modal = document.getElementById('project-modal-' + idx);
                if (modal) { modal.style.display = 'none'; modal.setAttribute('aria-hidden', 'true'); }
            });
        });

        // Close modal on click outside
        ['project-modal-1', 'project-modal-2', 'project-modal-3'].forEach(id => {
            const modal = document.getElementById(id);
            if (modal) {
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        modal.style.display = 'none';
                        modal.setAttribute('aria-hidden', 'true');
                    }
                });
            }
        });

        // Language toggle (preserves original behavior)
        const langToggle = document.getElementById('langToggle');
        let currentLang = 'en';
        function changeLanguage(lang) {
            var frame = document.querySelector('iframe.goog-te-menu-frame');
            if (frame) {
                var innerDoc = frame.contentDocument || frame.contentWindow.document;
                var langAnchor = innerDoc.querySelector("a[lang='" + lang + "']");
                if (langAnchor) langAnchor.click();
            } else {
                var combo = document.querySelector('.goog-te-combo');
                if (combo) {
                    combo.value = lang;
                    var event = document.createEvent("HTMLEvents");
                    event.initEvent("change", false, true);
                    combo.dispatchEvent(event);
                }
            }
        }
        langToggle.addEventListener('click', function () {
            if (currentLang === 'en') {
                langToggle.textContent = 'ENGLISH';
                currentLang = 'ar';
                setTimeout(function () { changeLanguage('ar'); }, 500);
            } else {
                langToggle.textContent = 'ترجمة';
                currentLang = 'en';
                setTimeout(function () { changeLanguage('en'); }, 500);
            }
        });
        function observeTranslate() {
            const observer = new MutationObserver(function () {
                let htmlLang = document.documentElement.getAttribute('lang');
                if (htmlLang === 'ar') {
                    langToggle.textContent = 'ENGLISH';
                    currentLang = 'ar';
                } else {
                    langToggle.textContent = 'ترجمة';
                    currentLang = 'en';
                }
            });
            observer.observe(document.documentElement, { attributes: true });
        }
        window.addEventListener('DOMContentLoaded', observeTranslate);

        // focus trap for modals
        function trapFocus(modal) {
            const focusable = modal.querySelectorAll('a[href], button, textarea, input, [tabindex]:not([tabindex="-1"])');
            if (!focusable.length) return;
            const first = focusable[0], last = focusable[focusable.length - 1];
            function keyHandler(e) {
                if (e.key === 'Tab') {
                    if (e.shiftKey) {
                        if (document.activeElement === first) {
                            e.preventDefault(); last.focus();
                        }
                    } else {
                        if (document.activeElement === last) {
                            e.preventDefault(); first.focus();
                        }
                    }
                }
                if (e.key === 'Escape') {
                    modal.style.display = 'none';
                }
            }
            modal.addEventListener('keydown', keyHandler);
            first.focus();
        }
        // when show modal, call trapFocus
        ['project-modal-1', 'project-modal-2', 'project-modal-3'].forEach(id => {
            const m = document.getElementById(id);
            const observer = new MutationObserver(() => {
                if (m.style.display === 'flex') trapFocus(m);
            });
            observer.observe(m, { attributes: true, attributeFilter: ['style'] });
        });

        // CAROUSEL - allow mouse drag + touch + nav buttons
        function enableDragScroll(container) {
            let isDown = false;
            let startX;
            let scrollLeft;
            container.addEventListener('mousedown', (e) => {
                isDown = true;
                container.classList.add('dragging');
                startX = e.pageX - container.offsetLeft;
                scrollLeft = container.scrollLeft;
                e.preventDefault();
            });
            container.addEventListener('mouseleave', () => {
                isDown = false;
                container.classList.remove('dragging');
            });
            container.addEventListener('mouseup', () => {
                isDown = false;
                container.classList.remove('dragging');
            });
            container.addEventListener('mousemove', (e) => {
                if (!isDown) return;
                e.preventDefault();
                const x = e.pageX - container.offsetLeft;
                const walk = (x - startX) * 1; // scroll-fast multiplier
                container.scrollLeft = scrollLeft - walk;
            });

            // touch support: native scrolling covers mobile swipes
            container.addEventListener('touchstart', () => { /* placeholder - native works well */ }, { passive: true });
        }

        document.querySelectorAll('.carousel').forEach(c => {
            enableDragScroll(c);
        });

        // carousel nav arrows behavior
        document.querySelectorAll('.carousel-nav').forEach(btn => {
            btn.addEventListener('click', () => {
                const targetSelector = btn.getAttribute('data-target');
                // allow id or selector
                let container;
                if (targetSelector.startsWith('#')) container = document.querySelector(targetSelector);
                else container = document.querySelector(targetSelector);
                if (!container) return;
                const amount = Math.round(container.clientWidth * 0.76);
                if (btn.classList.contains('left')) {
                    container.scrollBy({ left: -amount, behavior: 'smooth' });
                } else {
                    container.scrollBy({ left: amount, behavior: 'smooth' });
                }
            });
        });

        // small optimization: pre-connect to WA and fonts for quicker interaction
        (function preconnects() {
            const l = document.createElement('link');
            l.rel = 'preconnect';
            l.href = 'https://wa.me';
            document.head.appendChild(l);
        })();

        const aboutSection = document.getElementById('about');
        const heroPhoto = aboutSection ? aboutSection.querySelector('.hero-photo') : null;
        const headerEl = document.querySelector('header');
        let mobilePhotoTimeout = null;

        // Ensure stacked (photo above text) on small screens by default.
        (function ensurePhotoStackOnMobile() {
            const hero = document.querySelector('.hero');
            if (!hero) return;
            function applyStack() {
                if (window.innerWidth <= 768) {
                    // only add stacked layout if not currently using the pinned mobile photo
                    if (!document.body.classList.contains('mobile-photo-top')) {
                        hero.classList.add('photo-above');
                    }
                } else {
                    hero.classList.remove('photo-above');
                }
            }
            // apply immediately and on resize
            applyStack();
            window.addEventListener('resize', applyStack);
            // expose helper for mobile-photo-top functions to use
            window.__heroApplyStack = applyStack;
        })();

        function showPhotoTopOnMobile(callback) {
            if (!heroPhoto || window.innerWidth > 768) {
                if (typeof callback === 'function') callback();
                return;
            }

            // compute header height
            const headerH = headerEl ? headerEl.offsetHeight : 64;
            // desired size for mobile (slightly smaller than desktop avatar)
            const desiredSize = 84; // px
            // set CSS variables
            document.documentElement.style.setProperty('--mobile-photo-size', desiredSize + 'px');
            document.documentElement.style.setProperty('--header-height', headerH + 'px');


            document.body.classList.add('mobile-photo-top');
            const hero = document.querySelector('.hero');
            if (hero) hero.classList.remove('photo-above');

            setTimeout(() => {
                // scroll so about is at top (header stays sticky)
                const targetTop = aboutSection.getBoundingClientRect().top + window.pageYOffset - headerH - 8;
                window.scrollTo({ top: Math.max(0, Math.round(targetTop)), behavior: 'smooth' });
            }, 60);


            clearTimeout(mobilePhotoTimeout);
            mobilePhotoTimeout = setTimeout(() => {
                removePhotoTopOnMobile();
            }, 7000);

            // cleanup listeners when scrolled away / resized
            setupMobilePhotoCleanup();

            if (typeof callback === 'function') callback();
        }

        function removePhotoTopOnMobile() {
            clearTimeout(mobilePhotoTimeout);
            document.body.classList.remove('mobile-photo-top');
            // remove variables (optional)
            document.documentElement.style.removeProperty('--mobile-photo-size');
            document.documentElement.style.removeProperty('--header-height');

            // re-apply stacked layout if still on small screen
            if (typeof window.__heroApplyStack === 'function') window.__heroApplyStack();

            // remove cleanup listeners references
            if (aboutSection && aboutSection._mobileScrollHandler) {
                window.removeEventListener('scroll', aboutSection._mobileScrollHandler);
                delete aboutSection._mobileScrollHandler;
            }
            if (aboutSection && aboutSection._mobileResizeHandler) {
                window.removeEventListener('resize', aboutSection._mobileResizeHandler);
                delete aboutSection._mobileResizeHandler;
            }
        }

        function setupMobilePhotoCleanup() {
            // remove when the user scrolls away or when resized to >768px
            function onScrollCheck() {
                const rect = aboutSection.getBoundingClientRect();
                if (rect.top < -window.innerHeight * 0.5 || rect.bottom < 0) {
                    removePhotoTopOnMobile();
                }
            }
            function onResizeCheck() {
                if (window.innerWidth > 768) removePhotoTopOnMobile();
            }

            aboutSection._mobileScrollHandler = onScrollCheck;
            aboutSection._mobileResizeHandler = onResizeCheck;
            window.addEventListener('scroll', onScrollCheck, { passive: true });
            window.addEventListener('resize', onResizeCheck);
        }


        window.addEventListener('load', () => {
            if (window.location.hash === '#about' && window.innerWidth <= 768) {
                // small delay to let layout settle
                setTimeout(() => {
                    showPhotoTopOnMobile();
                }, 80);
            }
        });


        document.querySelectorAll('.carousel').forEach(container => {
            container.setAttribute('tabindex', '0');
            container.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowRight') {
                    container.scrollBy({ left: Math.round(container.clientWidth * 0.5), behavior: 'smooth' });
                } else if (e.key === 'ArrowLeft') {
                    container.scrollBy({ left: -Math.round(container.clientWidth * 0.5), behavior: 'smooth' });
                }
            });
        });


        document.addEventListener('click', (e) => {
            if (window.innerWidth <= 768) {
                const target = e.target;
                if (!navMenu.contains(target) && !menuToggle.contains(target) && !langToggle.contains(target)) {
                    navMenu.classList.remove('show');
                    menuToggle.setAttribute('aria-expanded', 'false');
                }
            }
        });

    </script>
</body>

</html>
