<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tala Chibli | Digitala</title>
    <meta name="description"
        content="Tala Chibli - Digital Creator, Social Media Manager, Designer. Elevate your brand with creative strategy, design, and web development." />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Montserrat:wght@700&display=swap"
        rel="stylesheet" />
    <link rel="icon" type="image/png+xml" href="https://imgur.com/KseW3Eo.png" />
    <style>
        :root {
            --white: #ffffff;
            --black: #111111;
            --muted: #666;
            --accent: #0d0d0d;
            --glass-1: rgba(255, 255, 255, 0.55);
            --glass-2: rgba(17, 17, 17, 0.06);
            --card-border: rgba(255, 255, 255, 0.25);
            --glass-blur: 12px;
            --radius: 16px;
            --shadow-1: 0 8px 30px rgba(2, 6, 23, 0.08);
            --transition: 300ms cubic-bezier(.22, .9, .32, 1);
            --accent-soft: #222;
            --glass-border-strong: rgba(0, 0, 0, 0.06);
            --glass-highlight: rgba(255, 255, 255, 0.18);
            --glow: 0 6px 30px rgba(13, 13, 13, 0.08);
            --card-min-width: 260px;

            /* mobile fixed photo defaults (will be overwritten inline if needed) */
            --mobile-photo-size: 88px;
            --mobile-photo-top: 72px;
        }

        * {
            box-sizing: border-box;
        }

        html,
        body {
            height: 100%;
            margin: 0;
            font-family: 'Inter', 'Montserrat', Arial, sans-serif;
            background: linear-gradient(180deg, #f7f9fb 0%, #ffffff 60%);
            color: var(--black);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            scroll-behavior: smooth;
        }

        /* Background decorative shapes */
        .bg-canvas {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 0;
            overflow: hidden;
        }

        .float-shape {
            position: absolute;
            opacity: 0.12;
            filter: blur(12px);
            transform: translate3d(0, 0, 0);
            animation: float 12s ease-in-out infinite;
        }

        .float-shape.s1 {
            width: 420px;
            height: 420px;
            left: -6%;
            top: -4%;
            background: radial-gradient(circle at 20% 20%, #ffd6e0, transparent 30%), linear-gradient(45deg, #ffd6e0, #ffd6e0);
            animation-duration: 18s;
        }

        .float-shape.s2 {
            width: 360px;
            height: 360px;
            right: -8%;
            top: 10%;
            background: radial-gradient(circle at 80% 20%, #e9f5ff, transparent 30%), linear-gradient(45deg, #e9f5ff, #cfe9ff);
            animation-duration: 14s;
        }

        .float-shape.s3 {
            width: 260px;
            height: 260px;
            left: 10%;
            bottom: -6%;
            background: radial-gradient(circle at 50% 50%, #fff7d6, transparent 25%), linear-gradient(135deg, #fff7d6, #ffe5a3);
            animation-duration: 20s;
        }

        @keyframes float {
            0% {
                transform: translateY(0) rotate(0deg);
            }

            50% {
                transform: translateY(-18px) rotate(8deg);
            }

            100% {
                transform: translateY(0) rotate(0deg);
            }
        }

        header {
            position: sticky;
            top: 0;
            z-index: 999;
            backdrop-filter: blur(6px) saturate(110%);
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0.5));
            border-bottom: 1px solid rgba(0, 0, 0, 0.06);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 1.6rem;
            height: 84px;
            box-shadow: var(--glow);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: .8rem;
            font-family: 'Montserrat', 'Inter', Arial, sans-serif;
            font-size: 1.45rem;
            font-weight: 700;
            letter-spacing: .08em;
            color: var(--accent);
            text-decoration: none;
            z-index: 20;
        }

        .logo img {
            width: 44px;
            height: 44px;
            border-radius: 10px;
            background: linear-gradient(135deg, #fff, #f3f3f3);
            box-shadow: 0 4px 18px rgba(0, 0, 0, 0.12);
            border: 2px solid var(--accent-soft);
            display: block;
        }

        nav.menu {
            display: flex;
            gap: 1.4rem;
            align-items: center;
            z-index: 20;
        }

        nav.menu a {
            font-weight: 600;
            color: var(--accent);
            text-decoration: none;
            padding: .6rem .2rem;
            border-radius: 10px;
            transition: color var(--transition), transform var(--transition), background var(--transition);
            position: relative;
        }

        nav.menu a::after {
            content: "";
            position: absolute;
            left: 0;
            right: 0;
            bottom: -8px;
            height: 3px;
            background: linear-gradient(90deg, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0));
            transition: all var(--transition);
            border-radius: 4px;
        }

        nav.menu a.active,
        nav.menu a:hover {
            color: var(--black);
            transform: translateY(-2px);
        }

        .menu-toggle {
            display: none;
            background: none;
            border: none;
            font-size: 2.2rem;
            color: var(--accent);
            cursor: pointer;
            margin-left: 1rem;
        }

        /* show/hide menu for mobile when toggled */
        nav.menu.show {
            display: flex !important;
        }

        /* Hero / About Section */
        .hero {
            position: relative;
            max-width: 1100px;
            margin: 1.6rem auto 0;
            z-index: 10;
            padding: 2.2rem;
            border-radius: calc(var(--radius) + 6px);
            backdrop-filter: blur(var(--glass-blur)) saturate(120%);
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.55), rgba(255, 255, 255, 0.42));
            border: 1px solid rgba(255, 255, 255, 0.35);
            box-shadow: 0 12px 40px rgba(2, 6, 23, 0.06);
            overflow: visible;
            transition: padding-top .28s ease;
        }

        .hero-grid {
            display: grid;
            grid-template-columns: 220px 1fr;
            gap: 1.6rem;
            align-items: center;
        }

        .hero-photo {
            width: 220px;
            height: 220px;
            border-radius: 18px;
            overflow: hidden;
            border: 3px solid rgba(0, 0, 0, 0.07);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
            transform: translateZ(0);
            background: linear-gradient(135deg, #fff, #fafafa);
            transition: transform var(--transition), box-shadow var(--transition), width .18s ease, height .18s ease, top .18s ease;
        }

        .hero-photo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        .hero-photo:hover {
            transform: rotate(-3deg) scale(1.02);
            box-shadow: 0 18px 44px rgba(0, 0, 0, 0.12);
        }

        /* MOBILE FIXED HERO PHOTO (activated only on small screens when "fixed-mobile" class is added) */
        .hero-photo.fixed-mobile {
            position: fixed;
            left: 50%;
            transform: translateX(-50%);
            width: var(--mobile-photo-size);
            height: var(--mobile-photo-size);
            border-radius: 12px;
            z-index: 120;
            box-shadow: 0 12px 44px rgba(0, 0, 0, 0.18);
            transition: transform .28s ease, top .18s ease, width .18s ease, height .18s ease;
            will-change: top, transform;
        }

        /* when fixed, add extra top padding to hero section to avoid content jump */
        .hero.hero-fixed-photo {
            /* this will be set inline from JS to match the photo height + spacing */
        }

        .about-heading {
            margin: 0;
            font-family: 'Montserrat', 'Inter', Arial, sans-serif;
            font-size: 2.1rem;
            color: var(--accent);
            letter-spacing: .02em;
        }

        .about-paragraph {
            margin-top: .8rem;
            font-size: 1.02rem;
            color: var(--black);
            font-weight: 500;
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.0), rgba(255, 255, 255, 0.0));
            padding: 0.4rem 0;
        }

        /* Section common */
        .section {
            max-width: 1100px;
            margin: 2.4rem auto;
            padding: 1.2rem;
            z-index: 10;
        }

        h2.section-title {
            font-family: 'Montserrat', Arial, sans-serif;
            font-size: 1.35rem;
            color: var(--accent);
            margin: 0 0 1rem 0;
            letter-spacing: .03em;
            border-left: 5px solid var(--accent);
            padding-left: 14px;
            display: inline-block;
            background: linear-gradient(90deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0));
            border-radius: 8px;
        }

        /* Carousel behavior for services, portfolio, feedbacks */
        .carousel {
            display: flex;
            gap: 1.1rem;
            overflow-x: auto;
            scroll-snap-type: x mandatory;
            -webkit-overflow-scrolling: touch;
            scroll-behavior: smooth;
            padding-bottom: 6px;
            align-items: stretch;
        }

        .carousel::-webkit-scrollbar {
            height: 8px;
        }

        .carousel::-webkit-scrollbar-thumb {
            background: rgba(0, 0, 0, 0.12);
            border-radius: 999px;
        }

        .service-tile,
        .file-card,
        .feedback-card {
            flex: 0 0 var(--card-min-width);
            scroll-snap-align: start;
            min-width: var(--card-min-width);
        }

        /* Services creative tiles */
        .services-wrap {
            align-items: stretch;
        }

        .service-tile {
            position: relative;
            height: 160px;
            border-radius: 14px;
            overflow: hidden;
            cursor: pointer;
            display: flex;
            align-items: flex-end;
            padding: 14px;
            transition: transform var(--transition), box-shadow var(--transition);
            box-shadow: var(--shadow-1);
            background-size: cover;
            background-position: center;
            color: #fff;
            z-index: 10;
            border: 1px solid rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(4px);
        }

        .service-tile::before {
            content: "";
            position: absolute;
            inset: 0;
            background: linear-gradient(180deg, rgba(0, 0, 0, 0.18), rgba(0, 0, 0, 0.36));
            transition: opacity var(--transition);
            pointer-events: none;
        }

        .service-symbol {
            position: absolute;
            right: -20%;
            top: -6%;
            font-size: 8.2rem;
            color: rgba(255, 255, 255, 0.08);
            transform: rotate(-12deg);
            pointer-events: none;
            transition: transform var(--transition);
        }

        .service-title-large {
            position: relative;
            font-weight: 700;
            font-size: 1.12rem;
            z-index: 5;
            text-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
            letter-spacing: .02em;
        }

        .service-sub {
            font-size: .92rem;
            opacity: .92;
            margin-top: 6px;
            color: rgba(255, 255, 255, 0.95);
        }

        .service-tile:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 18px 54px rgba(2, 6, 23, 0.12);
        }

        .service-details {
            position: fixed;
            inset: auto 10% 8% 10%;
            max-width: 880px;
            margin: 0 auto;
            border-radius: 14px;
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.92), rgba(255, 255, 255, 0.88));
            box-shadow: 0 28px 80px rgba(2, 6, 23, 0.18);
            padding: 1.2rem 1.4rem;
            z-index: 1200;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 0, 0, 0.06);
            animation: popIn .22s ease-out;
        }

        @keyframes popIn {
            from {
                transform: translateY(18px) scale(0.98);
                opacity: 0;
            }

            to {
                transform: translateY(0) scale(1);
                opacity: 1;
            }
        }

        .details-head {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
        }

        .details-head h3 {
            margin: 0;
            font-size: 1.2rem;
            color: var(--accent);
        }

        .details-list {
            margin-top: 10px;
            display: grid;
            gap: 8px;
        }

        .details-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--glass-1);
            border-radius: 10px;
            padding: 10px 12px;
            border: 1px solid rgba(0, 0, 0, 0.04);
            font-weight: 600;
            color: var(--accent);
        }

        .price {
            font-weight: 800;
            color: var(--accent);
            background: linear-gradient(90deg, rgba(0, 0, 0, 0.02), rgba(0, 0, 0, 0.02));
            padding: 6px 10px;
            border-radius: 8px;
            font-size: .98rem;
        }

        .close-details {
            border: none;
            background: rgba(0, 0, 0, 0.06);
            color: var(--accent);
            padding: 8px 12px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 700;
        }

        /* Portfolio grid glass cards */
        .graphics-file-grid {
            align-items: stretch;
        }

        .file-card {
            position: relative;
            border-radius: 12px;
            overflow: hidden;
            height: 180px;
            display: flex;
            align-items: end;
            padding: 14px;
            color: #fff;
            cursor: pointer;
            background-size: cover;
            background-position: center;
            box-shadow: var(--shadow-1);
            transition: transform var(--transition), filter var(--transition);
            border: 1px solid rgba(255, 255, 255, 0.08);
        }

        .file-card .file-content {
            z-index: 5;
            transform: translateY(0);
        }

        .file-card::after {
            content: "";
            position: absolute;
            inset: 0;
            background: linear-gradient(180deg, rgba(0, 0, 0, 0.12), rgba(0, 0, 0, 0.36));
            transition: opacity var(--transition);
        }

        .file-title {
            font-weight: 700;
            font-size: 1.05rem;
            margin-bottom: 6px;
        }

        .file-desc {
            font-size: .95rem;
            color: rgba(255, 255, 255, 0.95);
        }

        .file-card:hover {
            transform: translateY(-8px);
            filter: saturate(1.06);
        }

        /* Modal overlay for projects & lightbox */
        .modal-overlay {
            position: fixed;
            inset: 0;
            display: none;
            align-items: center;
            justify-content: center;
            background: rgba(10, 12, 20, 0.56);
            z-index: 2000;
        }

        .modal-content {
            width: min(980px, 96%);
            max-height: 92vh;
            overflow-y: auto;
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.98), rgba(255, 255, 255, 0.96));
            border-radius: 12px;
            padding: 1.2rem;
            box-shadow: 0 24px 80px rgba(2, 6, 23, 0.3);
            border: 1px solid rgba(0, 0, 0, 0.06);
            position: relative;
        }

        .close-modal {
            position: absolute;
            top: 12px;
            right: 12px;
            font-size: 1.8rem;
            background: none;
            border: none;
            color: var(--accent);
            cursor: pointer;
        }

        .project-photo-block img {
            width: 100%;
            border-radius: 10px;
            display: block;
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.08);
        }

        .project-desc {
            color: var(--muted);
            margin-top: .6rem;
            line-height: 1.5;
        }

        /* Feedbacks */
        .feedbacks-grid {
            align-items: stretch;
        }

        .feedback-card {
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.72), rgba(255, 255, 255, 0.65));
            border-radius: 12px;
            padding: 14px;
            border: 1px solid rgba(0, 0, 0, 0.04);
            box-shadow: var(--shadow-1);
            display: flex;
            flex-direction: column;
            gap: .6rem;
        }

        .feedback-photo {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            object-fit: cover;
        }

        .feedback-header {
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .feedback-name {
            font-weight: 700;
            color: var(--accent);
        }

        .feedback-role {
            font-size: .95rem;
            color: #555;
            font-weight: 500;
        }

        .feedback-content blockquote {
            margin: 0;
            background: rgba(255, 255, 255, 0.92);
            padding: 10px;
            border-left: 4px solid var(--accent);
            border-radius: 8px;
            color: var(--accent);
            font-weight: 500;
        }

        /* Contact */
        .contacts-wrapper {
            display: grid;
            grid-template-columns: 1fr 320px;
            gap: 1rem;
            align-items: start;
        }

        .contact-form {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0.6));
            padding: 1rem;
            border-radius: 12px;
            border: 1px solid rgba(0, 0, 0, 0.04);
            box-shadow: var(--shadow-1);
        }

        .contact-form input,
        .contact-form textarea {
            padding: .9rem;
            border: 1px solid rgba(0, 0, 0, 0.06);
            border-radius: 10px;
            font-size: .97rem;
            background: rgba(255, 255, 255, 0.95);
            color: var(--accent);
            font-family: inherit;
        }

        .contact-form input:focus,
        .contact-form textarea:focus {
            outline: none;
            border-color: rgba(13, 13, 13, 0.12);
            box-shadow: 0 10px 30px rgba(13, 13, 13, 0.04);
        }

        .contact-form button {
            padding: .95rem;
            background: var(--accent);
            color: var(--white);
            border: none;
            border-radius: 10px;
            font-size: 1.02rem;
            font-weight: 800;
            cursor: pointer;
        }

        .contacts-social {
            display: flex;
            flex-direction: column;
            gap: .8rem;
            align-items: stretch;
            margin-top: 0.5rem;
        }

        .contacts-social a {
            display: flex;
            align-items: center;
            gap: .6rem;
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.86));
            color: var(--accent);
            padding: .6rem .9rem;
            font-size: 1rem;
            font-weight: 700;
            border-radius: 10px;
            text-decoration: none;
            border: 1px solid rgba(0, 0, 0, 0.04);
            justify-content: center;
            box-shadow: 0 10px 30px rgba(2, 6, 23, 0.04);
        }

        /* Carousel nav buttons (desktop) */
        .carousel-wrap {
            position: relative;
        }

        .carousel-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.92);
            border: 1px solid rgba(0, 0, 0, 0.06);
            width: 42px;
            height: 42px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 8px 30px rgba(2, 6, 23, 0.08);
            cursor: pointer;
            z-index: 60;
            transition: transform .18s ease;
        }

        .carousel-nav:hover {
            transform: translateY(-50%) scale(1.04);
        }

        .carousel-nav.left {
            left: -18px;
        }

        .carousel-nav.right {
            right: -18px;
        }

        /* Scroll top */
        #scrollTopBtn {
            display: none;
            position: fixed;
            bottom: 28px;
            right: 28px;
            z-index: 9999;
            background: var(--accent);
            color: var(--white);
            border: none;
            border-radius: 50%;
            width: 48px;
            height: 48px;
            font-size: 1.4rem;
            box-shadow: 0 8px 30px rgba(2, 6, 23, 0.12);
            cursor: pointer;
        }

        footer {
            text-align: center;
            padding: 1.2rem 0 .9rem 0;
            font-size: 1.02rem;
            background: transparent;
            color: var(--accent);
            border-top: 1px solid rgba(0, 0, 0, 0.04);
            margin-top: 2rem;
            letter-spacing: 1px;
        }

        /* Responsive */
        @media (max-width: 1000px) {
            .hero-grid {
                grid-template-columns: 160px 1fr;
            }

            .hero-photo {
                width: 160px;
                height: 160px;
                border-radius: 14px;
            }

            .contacts-wrapper {
                grid-template-columns: 1fr;
            }

            :root {
                --card-min-width: 220px;
            }
        }

        @media (max-width: 768px) {
            header {
                padding: 0 .8rem;
                height: 64px;
            }

            .menu-toggle {
                display: block;
            }

            nav.menu {
                display: none;
                position: absolute;
                right: 12px;
                top: 64px;
                background: rgba(255, 255, 255, 0.95);
                padding: 10px;
                border-radius: 10px;
                box-shadow: var(--shadow-1);
                flex-direction: column;
            }

            nav.menu.show {
                display: flex;
            }

            .hero {
                margin: 0.9rem .6rem;
                padding: 1rem;
            }

            .hero-grid {
                grid-template-columns: 120px 1fr;
                gap: 1rem;
            }

            .hero-photo {
                width: 120px;
                height: 120px;
            }

            .service-tile {
                height: 140px;
            }

            .services-wrap {
                grid-template-columns: none;
            }

            .services-wrap,
            .graphics-file-grid,
            .feedbacks-grid {
                padding: 6px 2px;
            }

            .service-details {
                left: 6%;
                right: 6%;
                bottom: 6%;
                top: auto;
            }

            :root {
                --card-min-width: 240px;
            }

            /* hide desktop carousel arrows on small screens */
            .carousel-nav {
                display: none;
            }
        }

        /* subtle entrance for sections */
        .fade-in-up {
            opacity: 0;
            transform: translateY(16px);
            animation: fadeUp 0.6s forwards;
        }

        .fade-in-up.delay-1 {
            animation-delay: 0.08s;
        }

        .fade-in-up.delay-2 {
            animation-delay: 0.16s;
        }

        .fade-in-up.delay-3 {
            animation-delay: 0.24s;
        }

        @keyframes fadeUp {
            to {
                opacity: 1;
                transform: none;
            }
        }
    </style>
</head>

<body>
    <div class="bg-canvas" aria-hidden="true">
        <div class="float-shape s1"></div>
        <div class="float-shape s2"></div>
        <div class="float-shape s3"></div>
    </div>

    <header>
        <a href="#about" class="logo" aria-label="Digitala - Home">
            <img id="headerLogo" src="https://imgur.com/KseW3Eo.png" alt="Logo" />
            Digitala
        </a>

        <!-- Translation toggle (keeps original behavior) -->
        <button id="langToggle" class="translate-switch" aria-pressed="false">ترجمة</button>

        <button class="menu-toggle" aria-label="Open Menu" aria-expanded="false">&#9776;</button>

        <nav class="menu" aria-label="Main navigation">
            <a href="#about" class="active" data-tab="about">About</a>
            <a href="#services" data-tab="services">Services</a>
            <a href="#graphics" data-tab="graphics">Portfolio</a>
            <a href="#feedbacks" data-tab="feedbacks">Feedbacks</a>
            <a href="#contacts" data-tab="contacts">Contact</a>
        </nav>
    </header>

    <!-- HERO / ABOUT -->
    <main>
        <section id="about" class="hero fade-in-up delay-1" aria-labelledby="about-heading">
            <div class="hero-grid">
                <div class="hero-photo" aria-hidden="false">
                    <img src="https://imgur.com/KseW3Eo.png" alt="Digitala - Tala Chibli" />
                </div>
                <div>
                    <h1 id="about-heading" class="about-heading">Digitala | complete suite of digital services under one
                        roof</h1>
                    <p class="about-paragraph">
                        Tala is a multi-passionate girl. She started designing by accident in 2017, and over the years
                        she explored graphic design, web development, content creation... And then she drowned in love
                        with everything digital. Her major in Management Information Systems enhanced her confidence in
                        technology, entrepreneurship, and data analysis, as well as her understanding of customer needs,
                        which enabled her to launch her own agency <u>“DIGITALA”</u>.<br>
                        Digitala is a creative and professional agency that provides businesses and individuals with
                        everything they need for a powerful digital presence. From branding and visual identity to
                        social media management, web design, and content creation. We offer a complete suite of
                        services under one roof. <br>
                        <b><i>My mission is to transform ideas into impactful digital experiences, ensuring every brand
                                we
                                work with stands out with creativity, elegance, and professionalism.</i></b>
                    </p>
                </div>
            </div>
        </section>

        <!-- SERVICES SECTION -->
        <section id="services" class="section fade-in-up delay-2" aria-labelledby="services-title">
            <h2 id="services-title" class="section-title">Services</h2>

            <div class="carousel-wrap" style="margin-top:8px;">
                <div class="services-wrap carousel" id="servicesWrap" aria-hidden="false">
                    <div class="service-tile" data-service="visual-identity" role="button" tabindex="0"
                        style="background-image: linear-gradient(180deg, rgba(0,0,0,0.18), rgba(0,0,0,0.28)), url('https://images.unsplash.com/photo-1534080564583-6be75777b70a?q=80&w=1400&auto=format&fit=crop&ixlib=rb-4.0.3&s=5c0666a06d7fb6b2d6f1e0b8f2f2b579');">
                        <div class="service-symbol">✦</div>
                        <div>
                            <div class="service-title-large">Build Your Visual Identity</div>
                            <div class="service-sub">Logo Design · Colour Palette · Typography & more</div>
                        </div>
                    </div>

                    <div class="service-tile" data-service="social-presence" role="button" tabindex="0"
                        style="background-image: linear-gradient(180deg, rgba(0,0,0,0.12), rgba(0,0,0,0.28)), url('https://images.unsplash.com/photo-1519389950473-47ba0277781c?q=80&w=1400&auto=format&fit=crop&ixlib=rb-4.0.3&s=0b7a4f3b5d2c3fae2f92c1ae2ab6f2da');">
                        <div class="service-symbol">♫</div>
                        <div>
                            <div class="service-title-large">Grow Your Social Presence</div>
                            <div class="service-sub">Content Creation · Calendars · Strategy</div>
                        </div>
                    </div>

                    <div class="service-tile" data-service="frontend-websites" role="button" tabindex="0"
                        style="background-image: linear-gradient(180deg, rgba(0,0,0,0.14), rgba(0,0,0,0.3)), url('https://images.unsplash.com/photo-1498050108023-c5249f4df085?q=80&w=1400&auto=format&fit=crop&ixlib=rb-4.0.3&s=3a0a1b7ed2e7b4fb2e8a0f72b2eea3b8');">
                        <div class="service-symbol">⧉</div>
                        <div>
                            <div class="service-title-large">Stunning Frontend Websites</div>
                            <div class="service-sub">UI Design · Content Writing · Frontend</div>
                        </div>
                    </div>

                    <div class="service-tile" data-service="printed-custom" role="button" tabindex="0"
                        style="background-image: linear-gradient(180deg, rgba(0,0,0,0.12), rgba(0,0,0,0.28)), url('https://images.unsplash.com/photo-1503602642458-232111445657?q=80&w=1400&auto=format&fit=crop&ixlib=rb-4.0.3&s=fd9d7d2e68a0c6d7c9a0a2d7c7b5f6de');">
                        <div class="service-symbol">✂</div>
                        <div>
                            <div class="service-title-large">Printed & Custom Designs</div>
                            <div class="service-sub">Print Materials · Characters · Tailored Designs</div>
                        </div>
                    </div>

                    <div class="service-tile" data-service="photo-video" role="button" tabindex="0"
                        style="background-image: linear-gradient(180deg, rgba(0,0,0,0.16), rgba(0,0,0,0.34)), url('https://images.unsplash.com/photo-1517263904808-5dc0d1d3f5f7?q=80&w=1400&auto=format&fit=crop&ixlib=rb-4.0.3&s=1a7c4b5c1b2a4b5e6a3b6c7d8e9f1234');">
                        <div class="service-symbol">📸</div>
                        <div>
                            <div class="service-title-large">Photography & Video Production</div>
                            <div class="service-sub">Photographs · Promotional Videos · Editing</div>
                        </div>
                    </div>

                    <div class="service-tile" data-service="extra-services" role="button" tabindex="0"
                        style="background-image: linear-gradient(180deg, rgba(0,0,0,0.12), rgba(0,0,0,0.28)), url('https://images.unsplash.com/photo-1492724441997-5dc865305da7?q=80&w=1400&auto=format&fit=crop&ixlib=rb-4.0.3&s=ff8c9a2b3c4d5e6f7a8b9c0d1e2f3a4b');">
                        <div class="service-symbol">✦</div>
                        <div>
                            <div class="service-title-large">Extra Services</div>
                            <div class="service-sub">CV · Portfolios · Presentations</div>
                        </div>
                    </div>
                </div>

                <button class="carousel-nav left" aria-label="Scroll left" data-target="#servicesWrap"
                    title="Scroll left">&larr;</button>
                <button class="carousel-nav right" aria-label="Scroll right" data-target="#servicesWrap"
                    title="Scroll right">&rarr;</button>
            </div>

            <div style="margin-top:1rem; text-align:center; font-size:.97rem; color:#555;">
                <span>Click any tile to chat on WhatsApp about that service!</span>
            </div>
        </section>

        <!-- PORTFOLIO -->
        <section id="graphics" class="section fade-in-up delay-3" aria-labelledby="portfolio-title">
            <h2 id="portfolio-title" class="section-title">Portfolio</h2>

            <div class="carousel-wrap" style="margin-top:8px;">
                <div class="graphics-file-grid carousel">
                    <div class="file-card" data-modal="project-modal-1" style="background-image: linear-gradient(180deg, rgba(0,0,0,0.12), rgba(0,0,0,0.36)), url('https://imgur.com/sazMX5w.jpg');"
                        role="button" tabindex="0">
                        <div class="file-content">
                            <div class="file-title">Visual Identity Project</div>
                            <div class="file-desc">Lamsa Candles</div>
                        </div>
                    </div>

                    <div class="file-card" data-modal="project-modal-2" style="background-image: linear-gradient(180deg, rgba(0,0,0,0.12), rgba(0,0,0,0.36)), url('https://imgur.com/QYBRaU8.jpg');"
                        role="button" tabindex="0">
                        <div class="file-content">
                            <div class="file-title">Menu Project</div>
                            <div class="file-desc">Bas Pasta Menu – Crepeno</div>
                        </div>
                    </div>

                    <div class="file-card" data-modal="project-modal-3" style="background-image: linear-gradient(180deg, rgba(0,0,0,0.12), rgba(0,0,0,0.36)), url('https://imgur.com/0BO1tFS.jpg');"
                        role="button" tabindex="0">
                        <div class="file-content">
                            <div class="file-title">Product Photography & Digital Marketing Project</div>
                            <div class="file-desc">Khait w Hkaya – YALA Association</div>
                        </div>
                    </div>
                </div>

                <button class="carousel-nav left" aria-label="Scroll left" data-target=".graphics-file-grid"
                    title="Scroll left">&larr;</button>
                <button class="carousel-nav right" aria-label="Scroll right" data-target=".graphics-file-grid"
                    title="Scroll right">&rarr;</button>
            </div>
        </section>

        <!-- PROJECT MODALS (preserve the original textual content) -->
        <div id="project-modal-1" class="modal-overlay" aria-hidden="true">
            <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="proj1-title">
                <button class="close-modal" data-close="1" aria-label="Close">&times;</button>
                <div class="project-container">
                    <h3 id="proj1-title">Visual Identity Project</h3>
                    <div class="project-company">Lamsa Candles</div>
                    <div class="project-desc">
                        LAMSA Candles – Branding & Visual Identity
                        For this project, I designed a complete branding package for LAMSA Candles, a handcrafted candle
                        business
                        that focuses on elegance, warmth, and a touch of luxury.<br><br>
                        ✨ Logo Design: A soft, glowing aesthetic featuring a candle wrapped with a delicate pink bow,
                        framed
                        with
                        floral illustrations.<br><br>
                        ✨ Sticker Design: The logo was adapted into a sticker format for packaging.<br><br>
                        ✨ Instagram Highlights: A custom set of icon designs for Instagram story highlights.<br><br>
                        The overall branding emphasizes warmth, elegance, and personalization.
                    </div>
                    <div class="project-gallery" style="margin-top:12px;">
                        <div class="project-photo-block">
                            <img src="https://imgur.com/sazMX5w.jpg" alt="Lamsa's Visual Identity">
                            <div class="photo-caption">Lamsa's Visual Identity</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="project-modal-2" class="modal-overlay" aria-hidden="true">
            <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="proj2-title">
                <button class="close-modal" data-close="2" aria-label="Close">&times;</button>
                <div class="project-container">
                    <h3 id="proj2-title">Menu Project</h3>
                    <div class="project-company">Bas Pasta Menu – Crepeno</div>
                    <div class="project-desc">
                        I designed a full marketing collateral and menu for Crepeno and Bas Pasta, a food brand based in
                        Tripoli.
                        The project included creating a modern and appetizing menu layout.<br><br>
                        The design combines Arabic and English text, uses strong yellow and black contrasts, and
                        integrates
                        food photography.<br><br>
                        The result: professional, customer-friendly menus and posters.
                    </div>
                    <div class="project-gallery" style="margin-top:12px;">
                        <div class="project-photo-block">
                            <img src="https://imgur.com/QYBRaU8.jpg" alt="Poster 1">
                            <div class="photo-caption">Poster 1</div>
                        </div>
                        <div class="project-photo-block" style="margin-top:12px;">
                            <img src="https://imgur.com/dzpdQEU.jpg" alt="Poster 2">
                            <div class="photo-caption">Poster 2</div>
                        </div>
                        <div class="project-photo-block" style="margin-top:12px;">
                            <img src="https://imgur.com/9uWScuA.jpg" alt="Menu">
                            <div class="photo-caption">Menu</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="project-modal-3" class="modal-overlay" aria-hidden="true">
            <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="proj3-title">
                <button class="close-modal" data-close="3" aria-label="Close">&times;</button>
                <div class="project-container">
                    <h3 id="proj3-title">Product Photography & Digital Marketing Project</h3>
                    <div class="project-company">Khait w Hkaya – YALA Association</div>
                    <div class="project-desc">
                        <br>Role: Product Photographer & Digital Marketer</br>
                        <br>Year: 2023</br>
                        <br>• Photographed handmade products (bags, wallets, keychains) highlighting the Palestinian
                        heritage
                        style.</br>
                        <br>• Conducted a professional photoshoot with multiple setups suitable for digital
                        display.</br>
                        <br>• Created visual content tailored for social media platforms.</br>
                        <br>• Marketed the products online, increasing reach and engagement with the target
                        audience.</br>

                        <br>Skills gained:</br>
                        <br>Photography · Visual Storytelling · Digital Marketing · Social Media Management</br>
                    </div>
                    <div class="project-gallery" style="margin-top:12px;">
                        <div class="project-photo-block">
                            <img src="https://imgur.com/0BO1tFS.jpg" alt="Khait w Hkaya Collection">
                            <div class="photo-caption">Khait w Hkaya Collection</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- FEEDBACKS -->
        <section id="feedbacks" class="section fade-in-up delay-3" aria-labelledby="feedbacks-title">
            <h2 id="feedbacks-title" class="section-title">Feedbacks</h2>

            <div class="carousel-wrap" style="margin-top:8px;">
                <div class="feedbacks-grid carousel">
                    <div class="feedback-card">
                        <div class="feedback-header">
                            <img src="https://imgur.com/XWagJpO.jpg" alt="Mahmoud Cherham" class="feedback-photo"
                                loading="lazy" />
                            <div>
                                <div class="feedback-name">Mahmoud Cherham</div>
                                <div class="feedback-role">Founder of Crepeno Restaurant</div>
                            </div>
                        </div>
                        <div class="feedback-content">
                            <blockquote>
                                “Honestly, the result were beyond our expectations. The outcome was amazing, and we gained
                                more followers.
                                May God bless your work and make things easier for you, you are truly talented.”
                            </blockquote>
                        </div>
                    </div>

                    <div class="feedback-card">
                        <div class="feedback-header">
                            <img src="https://imgur.com/CbwDanL.jpg" alt="Jana Bakir" class="feedback-photo"
                                loading="lazy" />
                            <div>
                                <div class="feedback-name">Jana Bakir</div>
                                <div class="feedback-role">Business Management Student</div>
                            </div>
                        </div>
                        <div class="feedback-content">
                            <blockquote>
                                “Hey love, I genuinely want to thank you from the bottom of my heart for your work on my CV
                                and cover
                                letter. I absolutely loved them. Everything was so well-organized, polished, and delivered
                                right on time.
                                I even ended up getting an A in the course, so thank you so much.”
                            </blockquote>
                        </div>
                    </div>

                    <div class="feedback-card">
                        <div class="feedback-header">
                            <img src="https://imgur.com/CbwDanL.jpg" alt="Raghad Nasser" class="feedback-photo"
                                loading="lazy" />
                            <div>
                                <div class="feedback-name">Raghad Nasser</div>
                                <div class="feedback-role">Founder of Lamsa Candles Store</div>
                            </div>
                        </div>
                        <div class="feedback-content">
                            <blockquote>
                                “I am beyond impressed with your work! Your designs are truly exceptional and stand out in
                                every way. The
                                creativity, attention to detail, and overall quality are unmatched. I absolutely loved the
                                results and
                                couldn’t be happier with them”
                            </blockquote>
                        </div>
                    </div>
                </div>

                <button class="carousel-nav left" aria-label="Scroll left" data-target=".feedbacks-grid"
                    title="Scroll left">&larr;</button>
                <button class="carousel-nav right" aria-label="Scroll right" data-target=".feedbacks-grid"
                    title="Scroll right">&rarr;</button>
            </div>
        </section>

        <!-- CONTACT -->
        <section id="contacts" class="section fade-in-up delay-3" aria-labelledby="contacts-title">
            <h2 id="contacts-title" class="section-title">Contact</h2>
            <div class="contacts-wrapper">
                <form class="contact-form" action="https://formspree.io/f/mzzgwkvk" method="POST">
                    <input type="text" name="name" placeholder="Your Name" required />
                    <input type="email" name="email" placeholder="Your Email" required />
                    <textarea rows="4" name="message" placeholder="Your Message" required></textarea>
                    <button type="submit">Send Message</button>
                </form>

                <div>
                    <div class="contacts-social" aria-label="social links">
                        <a href="https://wa.me/447917789739" target="_blank" rel="noopener">
                            <img src="https://cdn.jsdelivr.net/npm/simple-icons@v10/icons/whatsapp.svg" alt="WhatsApp"
                                loading="lazy" style="width:20px;height:20px" />
                            WhatsApp
                        </a>
                        <a href="https://www.instagram.com/tala.chibli" target="_blank" rel="noopener">
                            <img src="https://cdn.jsdelivr.net/npm/simple-icons@v10/icons/instagram.svg" alt="Instagram"
                                loading="lazy" style="width:20px;height:20px" />
                            Instagram
                        </a>
                        <a href="https://www.linkedin.com/in/tala-chibli-89a8632ab" target="_blank" rel="noopener">
                            <img src="https://cdn.jsdelivr.net/npm/simple-icons@v10/icons/linkedin.svg" alt="LinkedIn"
                                loading="lazy" style="width:20px;height:20px" />
                            LinkedIn
                        </a>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <button id="scrollTopBtn" aria-label="Scroll to top">↑</button>

    <footer>
        &copy; 2025 Tala Chibli. All rights reserved.<br>
    </footer>

    <!-- Hidden Google translate (keeps original behavior) -->
    <div id="google_translate_element" style="display:none;"></div>
    <script type="text/javascript">
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({
                pageLanguage: 'en',
                includedLanguages: 'ar,en',
                autoDisplay: false
            }, 'google_translate_element');
        }
    </script>
    <script type="text/javascript"
        src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

    <script>
        // Basic UI interactions: menu toggle, tab navigation, scroll top
        const menuToggle = document.querySelector('.menu-toggle');
        const navMenu = document.querySelector('nav.menu');

        menuToggle.addEventListener('click', () => {
            const expanded = menuToggle.getAttribute('aria-expanded') === 'true';
            menuToggle.setAttribute('aria-expanded', String(!expanded));
            navMenu.classList.toggle('show');
        });

        const tabLinks = document.querySelectorAll('.menu a');
        tabLinks.forEach(link => {
            link.addEventListener('click', function (e) {
                tabLinks.forEach(l => l.classList.remove('active'));
                this.classList.add('active');
                const href = this.getAttribute('href');
                if (href && href.startsWith('#')) {
                    const el = document.querySelector(href);
                    if (el) {
                        // On mobile, if linking to about, fix the about image at the top then scroll
                        if (window.innerWidth <= 768 && href === '#about') {
                            fixHeroImageToTopOnMobile(() => {
                                // after we fix the photo, scroll the section to show it at top
                                setTimeout(() => el.scrollIntoView({ behavior: 'smooth', block: 'start' }), 60);
                            });
                        } else {
                            el.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        }
                    }
                }
                if (window.innerWidth <= 768) {
                    navMenu.classList.remove('show');
                    menuToggle.setAttribute('aria-expanded', 'false');
                }
            });
        });

        // Scroll to top button
        const scrollBtn = document.getElementById('scrollTopBtn');
        window.addEventListener('scroll', () => {
            if (document.documentElement.scrollTop > 200) scrollBtn.style.display = 'block';
            else scrollBtn.style.display = 'none';
        });
        scrollBtn.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));

        // WhatsApp quick chat
        function openWhatsApp(message) {
            const waMsg = encodeURIComponent(message);
            window.open("https://wa.me/447917789739?text=" + waMsg, "_blank");
        }

        // SERVICE DETAILS DATA (keeps original service names)
        const servicesData = {
            "visual-identity": {
                title: "Build Your Visual Identity",
                items: [
                    { name: "Logo Design", price: "From $120" },
                    { name: "Colour Palette", price: "From $50" },
                    { name: "Typography", price: "From $40" },
                    { name: "Iconography", price: "From $60" },
                    { name: "Patterns/Textures", price: "From $80" },
                    { name: "Layout Systems", price: "From $100" },
                    { name: "Shapes", price: "From $40" },
                    { name: "Packaging", price: "From $140" },
                    { name: "Signage", price: "From $90" },
                    { name: "Merchandise", price: "From $120" }
                ]
            },
            "social-presence": {
                title: "Grow Your Social Presence",
                items: [
                    { name: "Content Creation", price: "From $150 / month" },
                    { name: "Content Calendar", price: "From $80" },
                    { name: "Engagement Strategy", price: "From $120" },
                    { name: "Brand Consistency", price: "From $90" },
                    { name: "Trend Monitoring", price: "From $60" },
                    { name: "Community Building", price: "From $140 / month" }
                ]
            },
            "frontend-websites": {
                title: "Stunning Frontend Websites",
                items: [
                    { name: "Frontend Web Design", price: "From $450" },
                    { name: "Content Writing for Web", price: "From $80/page" },
                    { name: "User Interface (UI) Design", price: "From $300" }
                ]
            },
            "printed-custom": {
                title: "Printed & Custom Designs",
                items: [
                    { name: "Print Materials", price: "From $90" },
                    { name: "Custom Characters", price: "From $120" },
                    { name: "Tailored Designs", price: "From $110" }
                ]
            },
            "photo-video": {
                title: "Photography & Video Production",
                items: [
                    { name: "Product Photography", price: "From $200 / session" },
                    { name: "Promotional Videos", price: "From $350" },
                    { name: "Video Editing", price: "From $80 / video" }
                ]
            },
            "extra-services": {
                title: "Extra Services",
                items: [
                    { name: "CV & Cover Letter", price: "From $35" },
                    { name: "Portfolio Design", price: "From $120" },
                    { name: "Presentations & PDFs", price: "From $50" },
                    { name: "Projects & Assignments", price: "From $60" }
                ]
            }
        };

        // Create details overlay (single reusable element)
        function buildDetailsOverlay() {
            const overlay = document.createElement('div');
            overlay.className = 'service-details';
            overlay.setAttribute('role', 'dialog');
            overlay.setAttribute('aria-modal', 'true');
            overlay.innerHTML = `
        <div class="details-head">
          <h3 id="details-title"></h3>
          <div>
            <button class="close-details" aria-label="Close details">Close</button>
          </div>
        </div>
        <div class="details-list" id="details-list"></div>
        <div style="margin-top:12px; display:flex; gap:10px; justify-content:flex-end;">
          <button id="contact-whatsapp" class="close-details" style="background:linear-gradient(90deg,#00a884,#128C7E); color:#fff;">Chat on WhatsApp</button>
        </div>
      `;
            document.body.appendChild(overlay);
            overlay.querySelector('.close-details').addEventListener('click', () => overlay.remove());
            overlay.querySelector('#contact-whatsapp').addEventListener('click', () => {
                const title = overlay.querySelector('#details-title').textContent || 'Service';
                openWhatsApp(`I'm interested in "${title}". Can you tell me more?`);
            });
            return overlay;
        }

        // Wire up the service tiles (click & keyboard)
        document.querySelectorAll('.service-tile').forEach(tile => {
            tile.addEventListener('click', () => {
                const key = tile.getAttribute('data-service');
                const data = servicesData[key];
                if (!data) return;
                const overlay = buildDetailsOverlay();
                overlay.querySelector('#details-title').textContent = data.title;
                const listBlock = overlay.querySelector('#details-list');
                listBlock.innerHTML = '';
                data.items.forEach(it => {
                    const row = document.createElement('div');
                    row.className = 'details-item';
                    row.innerHTML = `<div>${it.name}</div><div class="price">${it.price}</div>`;
                    row.addEventListener('click', () => openWhatsApp(`I'm interested in '${it.name}' from "${data.title}". Can you tell me more?`));
                    listBlock.appendChild(row);
                });
                // accessibility focus
                overlay.querySelector('.close-details').focus();
            });

            // keyboard support
            tile.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    tile.click();
                }
            });
        });

        // Portfolio modals
        document.querySelectorAll('.file-card').forEach(card => {
            card.addEventListener('click', () => {
                const id = card.getAttribute('data-modal');
                const modal = document.getElementById(id);
                if (modal) {
                    modal.style.display = 'flex';
                    modal.setAttribute('aria-hidden', 'false');
                }
            });
            card.addEventListener('keydown', e => {
                if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); card.click(); }
            });
        });

        document.querySelectorAll('.close-modal').forEach(btn => {
            btn.addEventListener('click', () => {
                const idx = btn.getAttribute('data-close');
                const modal = document.getElementById('project-modal-' + idx);
                if (modal) { modal.style.display = 'none'; modal.setAttribute('aria-hidden', 'true'); }
            });
        });

        // Close modal on click outside
        ['project-modal-1', 'project-modal-2', 'project-modal-3'].forEach(id => {
            const modal = document.getElementById(id);
            if (modal) {
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        modal.style.display = 'none';
                        modal.setAttribute('aria-hidden', 'true');
                    }
                });
            }
        });

        // Language toggle (preserves original behavior)
        const langToggle = document.getElementById('langToggle');
        let currentLang = 'en';
        function changeLanguage(lang) {
            var frame = document.querySelector('iframe.goog-te-menu-frame');
            if (frame) {
                var innerDoc = frame.contentDocument || frame.contentWindow.document;
                var langAnchor = innerDoc.querySelector("a[lang='" + lang + "']");
                if (langAnchor) langAnchor.click();
            } else {
                var combo = document.querySelector('.goog-te-combo');
                if (combo) {
                    combo.value = lang;
                    var event = document.createEvent("HTMLEvents");
                    event.initEvent("change", false, true);
                    combo.dispatchEvent(event);
                }
            }
        }
        langToggle.addEventListener('click', function () {
            if (currentLang === 'en') {
                langToggle.textContent = 'ENGLISH';
                currentLang = 'ar';
                setTimeout(function () { changeLanguage('ar'); }, 500);
            } else {
                langToggle.textContent = 'ترجمة';
                currentLang = 'en';
                setTimeout(function () { changeLanguage('en'); }, 500);
            }
        });
        function observeTranslate() {
            const observer = new MutationObserver(function () {
                let htmlLang = document.documentElement.getAttribute('lang');
                if (htmlLang === 'ar') {
                    langToggle.textContent = 'ENGLISH';
                    currentLang = 'ar';
                } else {
                    langToggle.textContent = 'ترجمة';
                    currentLang = 'en';
                }
            });
            observer.observe(document.documentElement, { attributes: true });
        }
        window.addEventListener('DOMContentLoaded', observeTranslate);

        // focus trap for modals
        function trapFocus(modal) {
            const focusable = modal.querySelectorAll('a[href], button, textarea, input, [tabindex]:not([tabindex="-1"])');
            if (!focusable.length) return;
            const first = focusable[0], last = focusable[focusable.length - 1];
            function keyHandler(e) {
                if (e.key === 'Tab') {
                    if (e.shiftKey) {
                        if (document.activeElement === first) {
                            e.preventDefault(); last.focus();
                        }
                    } else {
                        if (document.activeElement === last) {
                            e.preventDefault(); first.focus();
                        }
                    }
                }
                if (e.key === 'Escape') {
                    modal.style.display = 'none';
                }
            }
            modal.addEventListener('keydown', keyHandler);
            first.focus();
        }
        // when show modal, call trapFocus
        ['project-modal-1', 'project-modal-2', 'project-modal-3'].forEach(id => {
            const m = document.getElementById(id);
            const observer = new MutationObserver(() => {
                if (m.style.display === 'flex') trapFocus(m);
            });
            observer.observe(m, { attributes: true, attributeFilter: ['style'] });
        });

        // CAROUSEL - allow mouse drag + touch + nav buttons
        function enableDragScroll(container) {
            let isDown = false;
            let startX;
            let scrollLeft;
            container.addEventListener('mousedown', (e) => {
                isDown = true;
                container.classList.add('dragging');
                startX = e.pageX - container.offsetLeft;
                scrollLeft = container.scrollLeft;
                e.preventDefault();
            });
            container.addEventListener('mouseleave', () => {
                isDown = false;
                container.classList.remove('dragging');
            });
            container.addEventListener('mouseup', () => {
                isDown = false;
                container.classList.remove('dragging');
            });
            container.addEventListener('mousemove', (e) => {
                if (!isDown) return;
                e.preventDefault();
                const x = e.pageX - container.offsetLeft;
                const walk = (x - startX) * 1; // scroll-fast multiplier
                container.scrollLeft = scrollLeft - walk;
            });

            // touch support: native scrolling covers mobile swipes
            container.addEventListener('touchstart', () => { /* placeholder - native works well */ }, { passive: true });
        }

        document.querySelectorAll('.carousel').forEach(c => {
            enableDragScroll(c);
        });

        // carousel nav arrows behavior
        document.querySelectorAll('.carousel-nav').forEach(btn => {
            btn.addEventListener('click', () => {
                const targetSelector = btn.getAttribute('data-target');
                // allow id or selector
                let container;
                if (targetSelector.startsWith('#')) container = document.querySelector(targetSelector);
                else container = document.querySelector(targetSelector);
                if (!container) return;
                const amount = Math.round(container.clientWidth * 0.76);
                if (btn.classList.contains('left')) {
                    container.scrollBy({ left: -amount, behavior: 'smooth' });
                } else {
                    container.scrollBy({ left: amount, behavior: 'smooth' });
                }
            });
        });

        // small optimization: pre-connect to WA and fonts for quicker interaction
        (function preconnects() {
            const l = document.createElement('link');
            l.rel = 'preconnect';
            l.href = 'https://wa.me';
            document.head.appendChild(l);
        })();

        /* ============================
           NEW: Fix hero-photo to top on mobile
           Behavior:
           - When user opens the About section on mobile (clicks About link or lands on #about),
             the .hero-photo inside the about section is transformed into a fixed element placed
             directly under the header (so the image appears at the top of the viewport).
           - The hero section receives padding-top equal to the photo height + spacing to avoid layout jumps.
           - The fixed state is removed when user scrolls away, resizes to desktop, or after timeout.
           ============================ */

        const aboutSection = document.getElementById('about');
        const heroPhoto = aboutSection.querySelector('.hero-photo');
        const headerEl = document.querySelector('header');

        // Utility: apply the fixed-photo behavior and optionally call a callback when done
        function fixHeroImageToTopOnMobile(callback) {
            if (!heroPhoto || window.innerWidth > 768) {
                if (typeof callback === 'function') callback();
                return;
            }

            // set size for the mobile photo (choose 88 or keep smaller if original smaller)
            const desiredSize = 88; // px (you can adjust)
            // compute top based on header height + small gap
            const headerH = headerEl ? headerEl.offsetHeight : 64;
            const topValue = headerH + 8; // 8px gap

            // set custom CSS variables (used by .fixed-mobile)
            heroPhoto.style.setProperty('--mobile-photo-size', desiredSize + 'px');
            heroPhoto.style.top = topValue + 'px';

            // ensure we set width/height to desired values
            heroPhoto.classList.add('fixed-mobile');

            // set hero padding-top so content stays below the fixed image
            const extraPadding = desiredSize + 22; // photo + some spacing
            aboutSection.classList.add('hero-fixed-photo');
            aboutSection.style.paddingTop = extraPadding + 'px';

            // focus handling: move focus to heading for screen readers
            const heading = aboutSection.querySelector('#about-heading');
            if (heading) heading.setAttribute('tabindex', '-1'), heading.focus();

            // cleanup handler: remove fixed image when scrolling away or after timeout
            setupHeroFixedRemoval();

            if (typeof callback === 'function') callback();
        }

        let _heroRemovalTimeout = null;
        function setupHeroFixedRemoval() {
            // remove after 6.5s automatically
            clearTimeout(_heroRemovalTimeout);
            _heroRemovalTimeout = setTimeout(() => {
                removeHeroImageFixed();
            }, 6500);

            // remove when user scrolls away (about's top becomes < -50% of viewport)
            function onScrollHide() {
                const rect = aboutSection.getBoundingClientRect();
                const hideThreshold = window.innerHeight * 0.5;
                if (rect.top < -hideThreshold || rect.bottom < 0) {
                    removeHeroImageFixed();
                }
            }
            window.addEventListener('scroll', onScrollHide, { passive: true });

            // remove on resize to desktop
            function onResizeHide() {
                if (window.innerWidth > 768) {
                    removeHeroImageFixed();
                } else {
                    // update top value based on header height in case header changed
                    const headerH = headerEl ? headerEl.offsetHeight : 64;
                    heroPhoto.style.top = (headerH + 8) + 'px';
                }
            }
            window.addEventListener('resize', onResizeHide);

            // store references so we can remove listeners on cleanup
            aboutSection._heroScrollHide = onScrollHide;
            aboutSection._heroResizeHide = onResizeHide;
        }

        function removeHeroImageFixed() {
            clearTimeout(_heroRemovalTimeout);
            if (!heroPhoto) return;
            // remove event listeners added during setup
            if (aboutSection._heroScrollHide) {
                window.removeEventListener('scroll', aboutSection._heroScrollHide);
                delete aboutSection._heroScrollHide;
            }
            if (aboutSection._heroResizeHide) {
                window.removeEventListener('resize', aboutSection._heroResizeHide);
                delete aboutSection._heroResizeHide;
            }
            heroPhoto.classList.remove('fixed-mobile');
            heroPhoto.style.top = '';
            // clear hero padding
            aboutSection.classList.remove('hero-fixed-photo');
            aboutSection.style.paddingTop = '';
        }

        // If page loads with #about on mobile, fix the image immediately
        window.addEventListener('load', () => {
            if (window.location.hash === '#about' && window.innerWidth <= 768) {
                // small delay so layout stabilizes
                setTimeout(() => {
                    fixHeroImageToTopOnMobile(() => {
                        document.getElementById('about').scrollIntoView({ behavior: 'smooth', block: 'start' });
                    });
                }, 80);
            }
        });

        // Accessibility: allow keyboard arrow control for carousel containers
        document.querySelectorAll('.carousel').forEach(container => {
            container.setAttribute('tabindex', '0');
            container.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowRight') {
                    container.scrollBy({ left: Math.round(container.clientWidth * 0.5), behavior: 'smooth' });
                } else if (e.key === 'ArrowLeft') {
                    container.scrollBy({ left: -Math.round(container.clientWidth * 0.5), behavior: 'smooth' });
                }
            });
        });

        // Ensure menu closes when clicking outside on mobile
        document.addEventListener('click', (e) => {
            if (window.innerWidth <= 768) {
                const target = e.target;
                if (!navMenu.contains(target) && !menuToggle.contains(target)) {
                    navMenu.classList.remove('show');
                    menuToggle.setAttribute('aria-expanded', 'false');
                }
            }
        });

    </script>
</body>

</html>
